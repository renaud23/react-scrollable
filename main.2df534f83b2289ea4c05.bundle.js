(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return offset_char})),__webpack_require__.d(__webpack_exports__,"e",(function(){return safe_css})),__webpack_require__.d(__webpack_exports__,"c",(function(){return compute_cumuls_size})),__webpack_require__.d(__webpack_exports__,"d",(function(){return initialize_scrollable})),__webpack_require__.d(__webpack_exports__,"b",(function(){return commons_scrollable_track_track}));var slicedToArray=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react);function OffsetChar(_ref){var children=_ref.children,_useState=Object(react.useState)(void 0),_useState2=Object(slicedToArray.a)(_useState,2),offsetChar=_useState2[0],setOffsetChar=_useState2[1],offsetEl=Object(react.useRef)(void 0);return Object(react.useEffect)((function(){if(offsetEl.current){var width=offsetEl.current.getBoundingClientRect().width;setOffsetChar(width)}}),[offsetEl]),offsetChar?react_default.a.createElement(react_default.a.Fragment,null,react_default.a.Children.map(children,(function(child,i){return react_default.a.cloneElement(child,{offsetChar:offsetChar})}))):react_default.a.createElement("span",{ref:offsetEl},"M")}OffsetChar.__docgenInfo={description:"",methods:[],displayName:"OffsetChar"};var offset_char=OffsetChar;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/commons-scrollable/offset-char.js"]={name:"OffsetChar",docgenInfo:OffsetChar.__docgenInfo,path:"src/commons-scrollable/offset-char.js"});var safe_css=function safe(value){return void 0===value||isNaN(value)?0:value},toConsumableArray=__webpack_require__(40);var compute_cumuls_size=function compute(array,getSize){return array.reduce((function(current,o){var size=getSize(o),last=current[current.length-1];return[].concat(Object(toConsumableArray.a)(current),[last+size])}),[0])};var initialize_scrollable=function initializeScrollable(){return{max:void 0,maxSize:void 0,cumulsSize:void 0,scrollRequest:void 0}},classnames=__webpack_require__(32),classnames_default=__webpack_require__.n(classnames);__webpack_require__(1443);function Track(_ref){var onTrack=_ref.onTrack,vertical=_ref.vertical,horizontal=_ref.horizontal,right=_ref.right,left=_ref.left,top=_ref.top,bottom=_ref.bottom,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),track=_useState2[0],setTrack=_useState2[1],_useState3=Object(react.useState)(void 0),_useState4=Object(slicedToArray.a)(_useState3,2),clientPos=_useState4[0],setClientPos=_useState4[1],_useState5=Object(react.useState)(void 0),_useState6=Object(slicedToArray.a)(_useState5,2),currentPos=_useState6[0],setCurrentPos=_useState6[1],onmousemove=Object(react.useCallback)((function(e){track&&setCurrentPos(vertical?e.clientX:e.clientY)}),[track,vertical]),onmousedown=Object(react.useCallback)((function(e){setTrack(!0),e.stopPropagation(),vertical?(setClientPos(e.clientX),setCurrentPos(e.clientX)):(setClientPos(e.clientY),setCurrentPos(e.clientY))}),[vertical]),onmouseup=Object(react.useCallback)((function(e){track&&(e.stopPropagation(),setTrack(!1),onTrack(vertical?e.clientX-clientPos:e.clientY-clientPos))}),[track,vertical,onTrack,clientPos]);Object(react.useEffect)((function(){return window.addEventListener("mousemove",onmousemove),window.addEventListener("mouseup",onmouseup),function(){window.removeEventListener("mousemove",onmousemove),window.removeEventListener("mouseup",onmouseup)}}));var style=function getStyle(vertical,pos){return vertical?{left:pos}:{top:pos}}(vertical,currentPos);return react_default.a.createElement("div",{"aria-hidden":"true",className:classnames_default()("react-large-table-track",{vertical:vertical,horizontal:horizontal,right:right,left:left,top:top,bottom:bottom}),onMouseDown:onmousedown},track?react_default.a.createElement("div",{className:classnames_default()("track-bar",{vertical:vertical,horizontal:horizontal}),style:style}):null)}Track.defaultProps={vertical:!1,right:!1,left:!1,horizontal:!1,bottom:!1,top:!1},Track.__docgenInfo={description:"",methods:[],displayName:"Track",props:{vertical:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},right:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},left:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},horizontal:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},bottom:{defaultValue:{value:"false",computed:!1},required:!1},top:{defaultValue:{value:"false",computed:!1},required:!1},onTrack:{type:{name:"func"},required:!0,description:""}}};var commons_scrollable_track_track=Track;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/commons-scrollable/track/track.js"]={name:"Track",docgenInfo:Track.__docgenInfo,path:"src/commons-scrollable/track/track.js"})},1435:function(module,exports,__webpack_require__){"use strict";var _clientApi=__webpack_require__(65),_clientLogger=__webpack_require__(43),_configFilename=__webpack_require__(1436);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1436:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1437:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(392).configure)([__webpack_require__(1438),__webpack_require__(1439)],module,!1)}).call(this,__webpack_require__(112)(module))},1438:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1438},1439:function(module,exports,__webpack_require__){var map={"./stories/large-scrollable-container.stories.js":1440,"./stories/react-large-list.stories.js":1460,"./stories/react-large-table.stories.js":1456,"./stories/react-large-tree.stories.js":1459,"./stories/react-scrollable.stories.js":1462};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1439},1440:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LargeContainer",(function(){return LargeContainer}));var _home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_react_large_scrollable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77);__webpack_require__(340);function buildScrollableData(nb,size){return{max:nb,maxSize:nb*size,cumulsSize:new Array(nb).fill(null).reduce((function(a,_,i){return[].concat(Object(_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(a),[i*size])}),[0])}}function CustomScrollableComponent(_ref){var verticalStart=_ref.verticalStart,marginTop=_ref.marginTop,verticalNb=_ref.verticalNb,horizontalStart=_ref.horizontalStart,marginLeft=_ref.marginLeft,horizontalNb=_ref.horizontalNb;return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:"simple-scrollable-example-content"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul",null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li",null,"horizontal is scroll to ",horizontalStart," of logical columns."),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li",null,"vertical is scroll to ",verticalStart," of logical columns."),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li",null,verticalNb," elements can be draw vertically with a top margin of"," ",marginTop," px."),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li",null,horizontalNb," elements can be draw horizontally with a left margin of"," ",marginLeft," px.")))}var LargeContainer=function LargeContainer(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(buildScrollableData(1e3,20)),vertical=Object(_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,1)[0],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(buildScrollableData(1e3,20)),horizontal=Object(_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,1)[0];return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p",null,"Use a scrollable container and inject data in child component for creating scrollable components."),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{className:"simple-scrollable-example-container"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_react_large_scrollable__WEBPACK_IMPORTED_MODULE_4__.a,{id:"id",vertical:vertical,horizontal:horizontal},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CustomScrollableComponent,null))))};__webpack_exports__.default={title:"large-react-scrollable",component:_react_large_scrollable__WEBPACK_IMPORTED_MODULE_4__.a,argTypes:{}},LargeContainer.parameters=Object(_home_travis_build_renaud23_react_scrollable_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({storySource:{source:'function LargeContainer() {\n  const [vertical] = useState(buildScrollableData(1000, 20));\n  const [horizontal] = useState(buildScrollableData(1000, 20));\n  return (\n    <>\n      <p>\n        Use a scrollable container and inject data in child component for\n        creating scrollable components.\n      </p>\n      <div className="simple-scrollable-example-container">\n        <LargeScrollableContainer\n          id={"id"}\n          vertical={vertical}\n          horizontal={horizontal}\n        >\n          <CustomScrollableComponent />\n        </LargeScrollableContainer>\n      </div>\n    </>\n  );\n}'}},LargeContainer.parameters),LargeContainer.__docgenInfo={description:"",methods:[],displayName:"LargeContainer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/large-scrollable-container.stories.js"]={name:"LargeContainer",docgenInfo:LargeContainer.__docgenInfo,path:"src/stories/large-scrollable-container.stories.js"})},1441:function(module,exports,__webpack_require__){},1442:function(module,exports,__webpack_require__){},1443:function(module,exports,__webpack_require__){},1444:function(module,exports,__webpack_require__){},1445:function(module,exports,__webpack_require__){},1446:function(module,exports,__webpack_require__){},1447:function(module,exports,__webpack_require__){},1448:function(module,exports,__webpack_require__){},1449:function(module,exports,__webpack_require__){},1450:function(module,exports,__webpack_require__){},1451:function(module,exports,__webpack_require__){},1452:function(module,exports,__webpack_require__){},1453:function(module,exports,__webpack_require__){},1454:function(module,exports,__webpack_require__){},1456:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultTable",(function(){return react_large_table_stories_DefaultTable})),__webpack_require__.d(__webpack_exports__,"WithRowNumsTable",(function(){return react_large_table_stories_WithRowNumsTable})),__webpack_require__.d(__webpack_exports__,"CustomCellTable",(function(){return react_large_table_stories_CustomCellTable})),__webpack_require__.d(__webpack_exports__,"EditableTable",(function(){return react_large_table_stories_EditableTable}));var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,"ON_REFRESH_DATA",(function(){return ON_REFRESH_DATA})),__webpack_require__.d(actions_namespaceObject,"onRefreshData",(function(){return onRefreshData})),__webpack_require__.d(actions_namespaceObject,"ON_RESIZE_COLUMN",(function(){return ON_RESIZE_COLUMN})),__webpack_require__.d(actions_namespaceObject,"onResizeColumn",(function(){return onResizeColumn})),__webpack_require__.d(actions_namespaceObject,"ON_RESIZE_ROW",(function(){return ON_RESIZE_ROW})),__webpack_require__.d(actions_namespaceObject,"onResizeRow",(function(){return onResizeRow})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_SCROLL",(function(){return ON_VERTICAL_SCROLL})),__webpack_require__.d(actions_namespaceObject,"onVerticalScroll",(function(){return onVerticalScroll})),__webpack_require__.d(actions_namespaceObject,"ON_CLICK_ROW_NUM",(function(){return ON_CLICK_ROW_NUM})),__webpack_require__.d(actions_namespaceObject,"onClickRowNum",(function(){return onClickRowNum})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_SCROLL_REQUEST",(function(){return ON_VERTICAL_SCROLL_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onVerticalScrollRequest",(function(){return onVerticalScrollRequest})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_SCROLL_REQUEST",(function(){return ON_HORIZONTAL_SCROLL_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onHorizontalScrollRequest",(function(){return onHorizontalScrollRequest}));var state_management_actions_namespaceObject={};__webpack_require__.r(state_management_actions_namespaceObject),__webpack_require__.d(state_management_actions_namespaceObject,"ON_UPDATE_DATA",(function(){return ON_UPDATE_DATA})),__webpack_require__.d(state_management_actions_namespaceObject,"onUpdateData",(function(){return onUpdateData})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_RESET_SELECTION",(function(){return ON_RESET_SELECTION})),__webpack_require__.d(state_management_actions_namespaceObject,"onResetSelection",(function(){return onResetSelection})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_START_DRAG",(function(){return ON_START_DRAG})),__webpack_require__.d(state_management_actions_namespaceObject,"onStartDrag",(function(){return actions_onStartDrag})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_DRAG",(function(){return ON_DRAG})),__webpack_require__.d(state_management_actions_namespaceObject,"onDrag",(function(){return actions_onDrag})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_STOP_DRAG",(function(){return ON_STOP_DRAG})),__webpack_require__.d(state_management_actions_namespaceObject,"onStopDrag",(function(){return actions_onStopDrag})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_DRAG_OUT",(function(){return ON_DRAG_OUT})),__webpack_require__.d(state_management_actions_namespaceObject,"onDragOut",(function(){return actions_onDragOut})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_MOUSE_LEAVE",(function(){return ON_MOUSE_LEAVE})),__webpack_require__.d(state_management_actions_namespaceObject,"onMouseLeave",(function(){return actions_onMouseLeave})),__webpack_require__.d(state_management_actions_namespaceObject,"ON_MOUSE_ENTER",(function(){return ON_MOUSE_ENTER})),__webpack_require__.d(state_management_actions_namespaceObject,"onMouseEnter",(function(){return actions_onMouseEnter}));var objectSpread2=__webpack_require__(1),slicedToArray=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_large_scrollable=__webpack_require__(77);function Table(_ref){var id=_ref.id,children=_ref.children;return react_default.a.createElement("table",{className:"react-large-table",id:id},children)}Table.__docgenInfo={description:"",methods:[],displayName:"Table"};var table=react_default.a.memo(Table);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/table.js"]={name:"Table",docgenInfo:Table.__docgenInfo,path:"src/react-large-table/table-components/table.js"});var commons_scrollable=__webpack_require__(11);function Thead(_ref){var children=_ref.children,height=_ref.height,marginLeft=_ref.marginLeft;return react_default.a.createElement("thead",{className:"react-large-table-thead",style:{height:Object(commons_scrollable.e)(height),marginLeft:Object(commons_scrollable.e)(marginLeft)}},children)}Thead.__docgenInfo={description:"",methods:[],displayName:"Thead"};var t_head=react_default.a.memo(Thead);function Tbody(_ref){var children=_ref.children,marginLeft=_ref.marginLeft,marginTop=_ref.marginTop;return react_default.a.createElement("tbody",{className:"react-large-table-tbody",style:{marginLeft:Object(commons_scrollable.e)(marginLeft),marginTop:Object(commons_scrollable.e)(marginTop)}},children)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/t-head.js"]={name:"Thead",docgenInfo:Thead.__docgenInfo,path:"src/react-large-table/table-components/t-head.js"}),Tbody.__docgenInfo={description:"",methods:[],displayName:"Tbody"};var t_body=react_default.a.memo(Tbody);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/t-body.js"]={name:"Tbody",docgenInfo:Tbody.__docgenInfo,path:"src/react-large-table/table-components/t-body.js"});var classnames=__webpack_require__(32),classnames_default=__webpack_require__.n(classnames);function Tr(_ref){var children=_ref.children,height=_ref.height,odd=_ref.odd,even=_ref.even;return react_default.a.createElement("tr",{style:{height:Object(commons_scrollable.e)(height)},className:classnames_default()("react-large-table-tr",{odd:odd,even:even})},children)}Tr.__docgenInfo={description:"",methods:[],displayName:"Tr"};var tr=react_default.a.memo(Tr);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/tr.js"]={name:"Tr",docgenInfo:Tr.__docgenInfo,path:"src/react-large-table/table-components/tr.js"});var ON_REFRESH_DATA="react-large-table/on-refresh-data",onRefreshData=function onRefreshData(data,headerHeight,treeSize){return{type:ON_REFRESH_DATA,payload:{data:data,headerHeight:headerHeight,treeSize:treeSize}}},ON_RESIZE_COLUMN="react-large-table/on-resize-column",onResizeColumn=function onResizeColumn(index,delta){return{type:ON_RESIZE_COLUMN,payload:{index:index,delta:delta}}},ON_RESIZE_ROW="react-large-table/on-resize-row",onResizeRow=function onResizeRow(index,delta){return{type:ON_RESIZE_ROW,payload:{index:index,delta:delta}}},ON_VERTICAL_SCROLL="react-large-table/on-vertical-scroll",onVerticalScroll=function onVerticalScroll(start,nb,margin){return{type:ON_VERTICAL_SCROLL,payload:{start:start,nb:nb,margin:margin}}},ON_CLICK_ROW_NUM="react-large-table/on-click-row-num",onClickRowNum=function onClickRowNum(index){return{type:ON_CLICK_ROW_NUM,payload:{index:index}}},ON_VERTICAL_SCROLL_REQUEST="react-large-table/on-vertical-scroll-request",onVerticalScrollRequest=function onVerticalScrollRequest(_ref){var delta=_ref.delta;return{type:ON_VERTICAL_SCROLL_REQUEST,payload:{delta:delta}}},ON_HORIZONTAL_SCROLL_REQUEST="react-large-table/on-horizontal-scroll-request",onHorizontalScrollRequest=function onHorizontalScrollRequest(_ref2){var delta=_ref2.delta;return{type:ON_HORIZONTAL_SCROLL_REQUEST,payload:{delta:delta}}};var refresh_scrollable_data=function resolve(){var array=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],getSize=arguments.length>1?arguments[1]:void 0,cumulsSize=Object(commons_scrollable.c)(array,getSize),max=array.length,maxSize=cumulsSize[max];return{max:max,maxSize:maxSize,cumulsSize:cumulsSize}},__ID_INDEX__=1;var get_id=function getId(id){return id||"react-large-table-".concat(__ID_INDEX__++)};var get_height=function getHeight(_ref){return _ref.__height};var get_width=function getWidth(_ref){return _ref.__width};var set_width=function set(o,__width){return Object(objectSpread2.a)(Object(objectSpread2.a)({},o),{},{__width:__width})};var set_height=function set_height_set(o,__height){return Object(objectSpread2.a)(Object(objectSpread2.a)({},o),{},{__height:__height})};var get_cell=function getCell(column,row){var path=column.path;return path in row?row[path]:{}};var use_dispatch=function useDispatch(context){return Object(react.useContext)(context)[1]};var reduce_on_refresh_data=function reduce(state,action){var payload=action.payload,data=payload.data,headerHeight=payload.headerHeight,treeSize=payload.treeSize;if("object"==typeof data){var header=data.header,rows=data.rows,vertical=state.vertical,horizontal=state.horizontal,id=state.id,rOld=state.rows,hOld=state.header;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:rows!==rOld?refresh_scrollable_data(rows,get_height):vertical,horizontal:header!==hOld?refresh_scrollable_data(header,get_width):horizontal,header:header,rows:rows,headerHeight:headerHeight,treeSize:treeSize,id:get_id(id)})}return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{headerHeight:headerHeight,treeSize:treeSize})},toConsumableArray=__webpack_require__(40);var reduce_on_resize_column=function reduce_on_resize_column_reduce(state,action){var payload=action.payload,delta=payload.delta,index=payload.index,headerNext=function refillHeader(header,delta,index){var next=Object(toConsumableArray.a)(header),column=header[index],width=get_width(column)||20;return next[index]=set_width(column,Math.max(Math.min(width+delta,800),20)),next}(state.header,delta,index);return 0!==delta?Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{header:headerNext,horizontal:refresh_scrollable_data(headerNext,get_width)}):state};var reducer_on_vertical_scroll=function reducer_on_vertical_scroll_reduce(state,action){var payload=action.payload,start=payload.start,nb=payload.nb,margin=payload.margin;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{rowNums:{start:start,nb:nb,margin:margin}})};var reduce_on_resize_row=function reduce_on_resize_row_reduce(state,action){var payload=action.payload,delta=payload.delta,index=payload.index,rows=state.rows;if(0!==delta){var rowsNext=function refillRows(rows,delta,index){var next=Object(toConsumableArray.a)(rows),row=rows[index],height=get_height(row)||15;return next[index]=set_height(row,Math.max(Math.min(height+delta,300),15)),next}(rows,delta,index);return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{rows:rowsNext,vertical:refresh_scrollable_data(rowsNext,get_height)})}return state};var reduce_on_vertical_scroll_request=function reduce_on_vertical_scroll_request_reduce(state,action){var delta=action.payload.delta,vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:Object(objectSpread2.a)(Object(objectSpread2.a)({},vertical),{},{scrollRequest:{delta:delta}})})};var reduce_on_horizontal_scroll_request=function reduce_on_horizontal_scroll_request_reduce(state,action){var delta=action.payload.delta,horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:Object(objectSpread2.a)(Object(objectSpread2.a)({},horizontal),{},{scrollRequest:{delta:delta}})})};var reducers_reducer=function reducer(state,action){switch(action.type){case ON_REFRESH_DATA:return reduce_on_refresh_data(state,action);case ON_RESIZE_COLUMN:return reduce_on_resize_column(state,action);case ON_RESIZE_ROW:return reduce_on_resize_row(state,action);case ON_VERTICAL_SCROLL:return reducer_on_vertical_scroll(state,action);case ON_VERTICAL_SCROLL_REQUEST:return reduce_on_vertical_scroll_request(state,action);case ON_HORIZONTAL_SCROLL_REQUEST:return reduce_on_horizontal_scroll_request(state,action);default:return state}},initial_state={rows:void 0,header:void 0,treeSize:!1,headerHeight:void 0,rowNums:{start:void 0,nb:void 0},horizontal:Object(commons_scrollable.d)(),vertical:Object(commons_scrollable.d)()},table_context=react_default.a.createContext([void 0,void 0]);function Th(_ref){var children=_ref.children,width=_ref.width,index=(_ref.height,_ref.index),_useContext=Object(react.useContext)(table_context),_useContext2=Object(slicedToArray.a)(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1],_column$resizable=state.header[index].resizable,resizable=void 0!==_column$resizable&&_column$resizable,onTrackCallback=Object(react.useCallback)((function(delta){dispatch(actions_namespaceObject.onResizeColumn(index,delta))}),[dispatch,index]);return react_default.a.createElement("th",{className:"react-large-table-th",style:{width:Object(commons_scrollable.e)(width)}},resizable?react_default.a.createElement(commons_scrollable.b,{onTrack:onTrackCallback,vertical:!0,right:!0}):null,children)}Th.__docgenInfo={description:"",methods:[],displayName:"Th"};var table_components_th=react_default.a.memo(Th);function Td(_ref){var children=_ref.children,width=_ref.width,row=_ref.row,first=_ref.first,dispatch=use_dispatch(table_context),onTrackCallback=Object(react.useCallback)((function(delta){dispatch(actions_namespaceObject.onResizeRow(row,delta))}),[dispatch,row]);return react_default.a.createElement("td",{style:{width:Object(commons_scrollable.e)(width)},className:"react-large-table-td"},children,first?react_default.a.createElement(commons_scrollable.b,{onTrack:onTrackCallback,horizontal:!0,bottom:!0}):null)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/th.js"]={name:"Th",docgenInfo:Th.__docgenInfo,path:"src/react-large-table/table-components/th.js"}),Td.__docgenInfo={description:"",methods:[],displayName:"Td"};var td=react_default.a.memo(Td);function CellRenderer(_ref){var column=_ref.column,row=_ref.row,cell=_ref.cell,height=_ref.height;return react_default.a.createElement("span",{className:"default-cell-renderer",style:{lineHeight:"".concat(height,"px")}},function default_cell_renderer_getValue(cell,column,row){var type=typeof cell;return void 0===type?"":"string"===type||"number"===type?cell:"object"===type?cell.value:"cell[".concat(column,", ").concat(row,"]")}(cell,column,row))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/td.js"]={name:"Td",docgenInfo:Td.__docgenInfo,path:"src/react-large-table/table-components/td.js"}),CellRenderer.__docgenInfo={description:"",methods:[],displayName:"CellRenderer"};var default_cell_renderer=react_default.a.memo(CellRenderer);function getDefault(index){return"Column ".concat(index+1)}function default_header_renderer_getValue(column,index){switch(typeof column){case"object":return function getObject(column,index){var label=column.label;return"string"==typeof label?label:getDefault(index)}(column,index);case"string":case"number":return column;default:return getDefault(index)}}function default_header_renderer_Renderer(_ref){var column=_ref.column,index=_ref.index;return react_default.a.createElement("div",{className:"th-el-container"},default_header_renderer_getValue(column,index))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/default-cell-renderer.js"]={name:"CellRenderer",docgenInfo:CellRenderer.__docgenInfo,path:"src/react-large-table/table-components/default-cell-renderer.js"}),default_header_renderer_Renderer.__docgenInfo={description:"",methods:[],displayName:"Renderer"};var default_header_renderer=default_header_renderer_Renderer;function RowRenderer(_ref){var index=_ref.index;return react_default.a.createElement("div",{className:"row"},index+1)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/default-header-renderer.js"]={name:"Renderer",docgenInfo:default_header_renderer_Renderer.__docgenInfo,path:"src/react-large-table/table-components/default-header-renderer.js"}),RowRenderer.__docgenInfo={description:"",methods:[],displayName:"RowRenderer"};var default_row_num_renderer=react_default.a.memo(RowRenderer);function Row(_ref){var height=_ref.height,index=_ref.index,RowNum=_ref.rowNumRenderer,dispatch=use_dispatch(table_context),onTrackCallback=Object(react.useCallback)((function(delta){dispatch(actions_namespaceObject.onResizeRow(index,delta))}),[dispatch,index]),onClick=Object(react.useCallback)((function(e){e.stopPropagation(),dispatch(actions_namespaceObject.onClickRowNum(index))}),[dispatch,index]);return react_default.a.createElement("div",{style:{height:Object(commons_scrollable.e)(height)},onClick:onClick,className:classnames_default()("row-container",{odd:index%2==1})},react_default.a.createElement(commons_scrollable.b,{onTrack:onTrackCallback,horizontal:!0,bottom:!0}),react_default.a.createElement(RowNum,{index:index}))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/default-row-num-renderer.js"]={name:"RowRenderer",docgenInfo:RowRenderer.__docgenInfo,path:"src/react-large-table/table-components/default-row-num-renderer.js"}),Row.__docgenInfo={description:"",methods:[],displayName:"Row"};var row_nums_row=Row;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/row-nums/row.js"]={name:"Row",docgenInfo:Row.__docgenInfo,path:"src/react-large-table/table-components/row-nums/row.js"});__webpack_require__(1446);function RowNumContainer(_ref){var children=_ref.children,margin=_ref.margin,headerHeight=_ref.headerHeight;return react_default.a.createElement("div",{className:"row-nums"},react_default.a.createElement("div",{className:"header-corner-container",style:{height:Object(commons_scrollable.e)(headerHeight)},"aria-hidden":!0},react_default.a.createElement("div",{className:"header-corner"})),react_default.a.createElement("div",{className:"row-nums-body",style:{marginTop:Object(commons_scrollable.e)(margin+headerHeight)}},children))}function RowNums(_ref2){var rowNumRenderer=_ref2.rowNumRenderer,_useContext=Object(react.useContext)(table_context),state=Object(slicedToArray.a)(_useContext,1)[0],headerHeight=state.headerHeight,rowNums=state.rowNums,rows=state.rows,nb=rowNums.nb,start=rowNums.start,margin=rowNums.margin;if(nb&&rows.length){var nums=new Array(nb).fill(null).map((function(_,i){var __height=rows[start+i].__height;return react_default.a.createElement(row_nums_row,{rowNumRenderer:rowNumRenderer,key:i,height:__height,index:start+i})}));return react_default.a.createElement(RowNumContainer,{margin:margin,headerHeight:headerHeight},nums)}return react_default.a.createElement(RowNumContainer,{margin:margin,headerHeight:headerHeight})}RowNums.__docgenInfo={description:"",methods:[],displayName:"RowNums"};var row_nums_row_nums=RowNums;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-components/row-nums/row-nums.js"]={name:"RowNums",docgenInfo:RowNums.__docgenInfo,path:"src/react-large-table/table-components/row-nums/row-nums.js"});var row_content=function RowContent(_ref){var row=_ref.row,index=_ref.index,Cell=_ref.cellRenderer,height=_ref.height,header=_ref.header,start=_ref.start,nb=_ref.nb;return nb?new Array(nb).fill(null).map((function(_,j){var th=header[start+j],width=get_width(th),cell=get_cell(th,row);return react_default.a.createElement(td,{key:"".concat(index," - ").concat(start+j),width:width,row:index,first:0===j},react_default.a.createElement(Cell,{cell:cell,row:index,column:start+j,height:height,width:width}))})):null};var body_content=function BodyContent(_ref){var rows=_ref.rows,header=_ref.header,startRow=_ref.startRow,nbRows=_ref.nbRows,cellRenderer=_ref.cellRenderer,startColumns=_ref.startColumns,nbColumns=_ref.nbColumns;return nbRows?new Array(nbRows).fill(null).map((function(_,i){var index=startRow+i,row=rows[index],__height=row.__height,even=function isEven(i){return i%2==0}(index);return react_default.a.createElement(tr,{key:index,height:__height,odd:!even,even:even},react_default.a.createElement(row_content,{cellRenderer:cellRenderer,header:header,row:row,index:index,start:startColumns,nb:nbColumns,height:__height}))})):null};var header_content=function HeaderContent(_ref){var header=_ref.header,start=_ref.start,nb=_ref.nb,Renderer=_ref.headerRenderer;return nb?new Array(nb).fill(null).map((function(_,i){var index=start+i,column=header[index],width=get_width(column);return react_default.a.createElement(table_components_th,{key:index,index:index,width:get_width(column)},react_default.a.createElement(Renderer,{column:column,width:width,index:index}))})):null};function TableContent(_ref){var header=_ref.header,rows=_ref.rows,headerHeight=_ref.headerHeight,cellRenderer=_ref.cellRenderer,headerRenderer=_ref.headerRenderer,id=_ref.id,marginLeft=_ref.marginLeft,horizontalStart=_ref.horizontalStart,horizontalNb=_ref.horizontalNb,marginTop=_ref.marginTop,verticalStart=_ref.verticalStart,verticalNb=_ref.verticalNb,dispatch=Object(react.useContext)(table_context)[1];return Object(react.useEffect)((function(){dispatch(actions_namespaceObject.onVerticalScroll(verticalStart,verticalNb,marginTop))}),[verticalStart,verticalNb,marginTop,dispatch]),react_default.a.createElement(table,{id:id},react_default.a.createElement(t_head,{height:headerHeight,marginLeft:marginLeft},react_default.a.createElement(tr,{height:headerHeight},react_default.a.createElement(header_content,{header:header,start:horizontalStart,nb:horizontalNb,headerRenderer:headerRenderer}))),react_default.a.createElement(t_body,{marginTop:marginTop+headerHeight,marginLeft:marginLeft},react_default.a.createElement(body_content,{rows:rows,header:header,startRow:verticalStart,nbRows:verticalNb,startColumns:horizontalStart,nbColumns:horizontalNb,cellRenderer:cellRenderer})))}TableContent.__docgenInfo={description:"",methods:[],displayName:"TableContent"};var table_content=TableContent;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/table-content/table-content.js"]={name:"TableContent",docgenInfo:TableContent.__docgenInfo,path:"src/react-large-table/table-content/table-content.js"});__webpack_require__(1447);function onEmptyHook(){}function ReactLargeTable(_ref){var data=_ref.data,headerHeight=_ref.headerHeight,treeSize=_ref.treeSize,className=_ref.className,cellRenderer=_ref.cellRenderer,headerRenderer=_ref.headerRenderer,rowNumRenderer=_ref.rowNumRenderer,rowNums=_ref.rowNums,middleware=_ref.middleware,onChangeData=_ref.onChangeData,onMouseLeave=_ref.onMouseLeave,onMouseEnter=_ref.onMouseEnter,horizontalScrollRequest=_ref.horizontalScrollRequest,verticalScrollRequest=_ref.verticalScrollRequest,_useReducer=Object(react.useReducer)(reducers_reducer,initial_state),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],__dispatch=_useReducer2[1],vertical=state.vertical,horizontal=state.horizontal,id=state.id,header=state.header,rows=state.rows,dispatch=Object(react.useMemo)((function(){return middleware(__dispatch)}),[__dispatch,middleware]);Object(react.useEffect)((function(){header&&rows&&onChangeData(header,rows)}),[header,rows,onChangeData]),Object(react.useEffect)((function(){dispatch(actions_namespaceObject.onRefreshData(data,headerHeight,treeSize))}),[data,headerHeight,treeSize,dispatch]),Object(react.useEffect)((function(){verticalScrollRequest&&dispatch(actions_namespaceObject.onVerticalScrollRequest(verticalScrollRequest))}),[verticalScrollRequest,dispatch]),Object(react.useEffect)((function(){horizontalScrollRequest&&dispatch(actions_namespaceObject.onHorizontalScrollRequest(horizontalScrollRequest))}),[horizontalScrollRequest,dispatch]);var onResizeCallback=Object(react.useCallback)((function(width,height){return[width,height-headerHeight]}),[headerHeight]);return react_default.a.createElement(table_context.Provider,{value:[state,dispatch]},react_default.a.createElement("div",{className:classnames_default()("react-large-table",className),onMouseLeave:onMouseLeave,onMouseEnter:onMouseEnter},rowNums?react_default.a.createElement(row_nums_row_nums,{rowNumRenderer:rowNumRenderer}):null,react_default.a.createElement(react_large_scrollable.a,{id:id,vertical:vertical,horizontal:horizontal,onResize:onResizeCallback,treeSize:treeSize},react_default.a.createElement(table_content,{rows:rows,header:header,headerHeight:headerHeight,cellRenderer:cellRenderer,headerRenderer:headerRenderer,id:id}))))}ReactLargeTable.defaultProps={data:{header:void 0,rows:void 0},treeSize:!0,cellRenderer:default_cell_renderer,headerRenderer:default_header_renderer,rowNumRenderer:default_row_num_renderer,rowNums:!1,middleware:function middlewareDefault(next){return function(action){return next(action)}},onChangeData:onEmptyHook,onMouseLeave:onEmptyHook,onMouseEnter:onEmptyHook},ReactLargeTable.__docgenInfo={description:"",methods:[],displayName:"ReactLargeTable",props:{data:{defaultValue:{value:"{ header: undefined, rows: undefined }",computed:!1},type:{name:"shape",value:{header:{name:"arrayOf",value:{name:"shape",value:{__width:{name:"number",required:!0},path:{name:"string",required:!1},label:{name:"string",required:!1}}},required:!1},rows:{name:"arrayOf",value:{name:"shape",value:{__height:{name:"number",required:!0},value:{name:"union",value:[{name:"string"},{name:"object"},{name:"number"}],required:!1}}},required:!1}}},required:!1,description:""},treeSize:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},cellRenderer:{defaultValue:{value:"DefaultCellRenderer",computed:!0},type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},headerRenderer:{defaultValue:{value:"DefaultHeaderRenderer",computed:!0},type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},rowNumRenderer:{defaultValue:{value:"RowNumRenderer",computed:!0},type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},rowNums:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},middleware:{defaultValue:{value:"(next) => (action) => next(action)",computed:!1},required:!1},onChangeData:{defaultValue:{value:"function onEmptyHook() {}",computed:!1},required:!1},onMouseLeave:{defaultValue:{value:"function onEmptyHook() {}",computed:!1},required:!1},onMouseEnter:{defaultValue:{value:"function onEmptyHook() {}",computed:!1},required:!1},headerHeight:{type:{name:"number"},required:!0,description:""},onchangeData:{type:{name:"func"},required:!1,description:""}}};var react_large_table_react_large_table=ReactLargeTable;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table/react-large-table.js"]={name:"ReactLargeTable",docgenInfo:ReactLargeTable.__docgenInfo,path:"src/react-large-table/react-large-table.js"});var ON_UPDATE_DATA="editable-table/on-update-large-table-editable",onUpdateData=function onUpdateData(data){return{type:ON_UPDATE_DATA,payload:{data:data}}},ON_RESET_SELECTION="editable-table/on-reset-selection",onResetSelection=function onResetSelection(index){return{type:ON_RESET_SELECTION}},ON_START_DRAG="editable-table/on-start-drag",actions_onStartDrag=function onStartDrag(args){return{type:ON_START_DRAG,payload:Object(objectSpread2.a)({},args)}},ON_DRAG="editable-table/on-drag",actions_onDrag=function onDrag(args){return{type:ON_DRAG,payload:Object(objectSpread2.a)({},args)}},ON_STOP_DRAG="editable-table/on-stop-drag",actions_onStopDrag=function onStopDrag(args){return{type:ON_STOP_DRAG,payload:Object(objectSpread2.a)({},args)}},ON_DRAG_OUT="editable-table/on-drag-out",actions_onDragOut=function onDragOut(args){return{type:ON_DRAG_OUT,payload:Object(objectSpread2.a)({},args)}},ON_MOUSE_LEAVE="editable-table/on-mouse-leave",actions_onMouseLeave=function onMouseLeave(){return{type:ON_MOUSE_LEAVE}},ON_MOUSE_ENTER="editable-table/on-mouse-enter",actions_onMouseEnter=function onMouseEnter(){return{type:ON_MOUSE_ENTER}};var reduce_on_update_data=function reduce_on_update_data_reduce(state,action){var data=action.payload.data;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{data:data})};function matchOne(one,index){return void 0!==one&&void 0!==index&&(Array.isArray(one)&&2===one.length?function isInRange(index,range){var _range=Object(slicedToArray.a)(range,2),start=_range[0],stop=_range[1];return index>=start&&index<=stop}(index,one):"string"==typeof one&&"any"===one||"number"==typeof one&&one===index)}function matchCell(_ref,i,j){var row=_ref.row,column=_ref.column,_column=Object(slicedToArray.a)(column,2),sx=_column[0],ex=_column[1],_row=Object(slicedToArray.a)(row,2),sy=_row[0],ey=_row[1];return j>=sx&&j<=ex&&i>=sy&&i<=ey}function matchRule(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},rule=_ref2.rule,i=arguments.length>1?arguments[1]:void 0,j=arguments.length>2?arguments[2]:void 0;if(rule){var row=rule.row,column=rule.column,cell=rule.cell;if(cell)return matchCell(cell,i,j);var matchRow=matchOne(row,i),matchCol=matchOne(column,j);return matchRow||matchCol}return!1}function getOrderedRange(anchor,extent){return function createRange(start,stop){return[start,stop]}(Math.min(anchor,extent),Math.max(anchor,extent))}function getSelection(anchor,extent){if(extent&&anchor){var type=anchor.type;if("cell"===type)return function getCellSelection(anchor,extent){return{rule:{type:"cell",cell:{row:getOrderedRange(anchor.row,extent.row),column:getOrderedRange(anchor.column,extent.column)}}}}(anchor,extent);if("head"===type)return function getHeadSelection(anchor,extent){return{rule:{type:"head",column:getOrderedRange(anchor.column,extent.column)}}}(anchor,extent);if("row"===type)return function getRowSelection(anchor,extent){return{rule:{type:"row",row:getOrderedRange(anchor.row,extent.row)}}}(anchor,extent)}}var reduce_on_start_drag=function reduce_on_start_drag_reduce(state,action){var payload=action.payload,anchor={type:payload.type,column:payload.column,row:payload.row,clientX:payload.clientX,clientY:payload.clientY},selection=getSelection(anchor,anchor);return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{drag:!0,anchor:anchor,extent:anchor,selection:selection})};var reduce_on_drag=function reduce_on_drag_reduce(state,action){var payload=action.payload,extent={type:payload.type,column:payload.column,row:payload.row},selection=getSelection(state.anchor,extent);return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{extent:extent,selection:selection})};var reduce_on_drag_out=function reduce_on_drag_out_reduce(state,action){var anchor=state.anchor,anchorX=anchor.clientX,anchorY=anchor.clientY,payload=action.payload,dx=payload.clientX-anchorX,dy=payload.clientY-anchorY;if(Math.abs(dx)>Math.abs(dy)){var _delta=Math.abs(dx)/dx;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontalScrollRequest:{delta:_delta}})}var delta=Math.abs(dy)/dy;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{verticalScrollRequest:{delta:delta}})};var reduce_on_stop_drag=function reduce_on_stop_drag_reduce(state){var anchor=state.anchor,extent=state.extent;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{drag:!1,anchor:void 0,extent:void 0,selection:getSelection(anchor,extent)})};var reduce_on_mouse_leave=function reduce_on_mouse_leave_reduce(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{mouseOut:!0})};var reduce_on_mouse_enter=function reduce_on_mouse_enter_reduce(state){return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{mouseOut:!1})};var state_management_reducers_reducer=function reducer_reducer(state,action){switch(action.type){case ON_UPDATE_DATA:return reduce_on_update_data(state,action);case ON_START_DRAG:return reduce_on_start_drag(state,action);case ON_DRAG:return reduce_on_drag(state,action);case ON_DRAG_OUT:return reduce_on_drag_out(state,action);case ON_STOP_DRAG:return reduce_on_stop_drag(state,action);case ON_MOUSE_LEAVE:return reduce_on_mouse_leave(state,action);case ON_MOUSE_ENTER:return reduce_on_mouse_enter(state,action);default:return state}},state_management_initial_state={data:void 0,selection:void 0,drag:!1,anchor:void 0,extent:void 0,mouseOut:!1,verticalScrollRequest:void 0,horizontalScrollRequest:void 0},editable_context=react_default.a.createContext([void 0,void 0]);function onClickDefault(){}function SelectionListener(_ref){var children=_ref.children,className=_ref.className,type=_ref.type,column=_ref.column,row=_ref.row,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?onClickDefault:_ref$onClick,_useContext=Object(react.useContext)(editable_context),_useContext2=Object(slicedToArray.a)(_useContext,2),state=_useContext2[0],dispatch=_useContext2[1],drag=state.drag;return react_default.a.createElement("div",{className:className,onMouseDown:function onMouseDown(e){if(0===e.button){var clientX=e.clientX,clientY=e.clientY;dispatch(state_management_actions_namespaceObject.onStartDrag({type:type,column:column,row:row,clientX:clientX,clientY:clientY}))}},onMouseEnter:function onMouseEnter(e){drag&&dispatch(state_management_actions_namespaceObject.onDrag({type:type,column:column,row:row}))},onClick:onClick},children)}SelectionListener.__docgenInfo={description:"",methods:[],displayName:"SelectionListener",props:{onClick:{defaultValue:{value:"function onClickDefault() {}",computed:!1},required:!1}}};var selection_listener=SelectionListener;function InputField(_ref){var cell=_ref.cell,setValue=_ref.setValue,row=_ref.row,column=_ref.column,getValue=_ref.getValue,height=_ref.height,onBlur=_ref.onBlur,inputEl=Object(react.useRef)(),_useState=Object(react.useState)(getValue(cell)),_useState2=Object(slicedToArray.a)(_useState,2),value=_useState2[0],setValue_=_useState2[1],onFocusCallback=Object(react.useCallback)((function(){var current=inputEl.current;current&&current.setSelectionRange(0,current.selectionStart)}),[inputEl]),onChangeCallback=Object(react.useCallback)((function(e){setValue_(e.target.value)}),[]),onBlurCallback=Object(react.useCallback)((function(e){setValue(cell,value,row,column),onBlur()}),[cell,value,setValue,onBlur,row,column]),onKeyDownCallback=Object(react.useCallback)((function(e){e.stopPropagation(),"Escape"===e.key?onBlur():"Enter"===e.key&&(setValue(cell,value,row,column),onBlur())}),[onBlur,setValue,cell,value,row,column]);return Object(react.useEffect)((function(){var current=inputEl.current;current&&current.focus({preventScroll:!0})}),[inputEl]),react_default.a.createElement("input",{ref:inputEl,value:value,style:{lineHeight:Object(commons_scrollable.e)(height)},onBlur:onBlurCallback,onChange:onChangeCallback,onFocus:onFocusCallback,onKeyDown:onKeyDownCallback})}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/selection-listener.js"]={name:"SelectionListener",docgenInfo:SelectionListener.__docgenInfo,path:"src/react-large-table-editable/selection-listener.js"}),InputField.__docgenInfo={description:"",methods:[],displayName:"InputField"};var input_field=InputField;function EditableCell(_ref){var cell=_ref.cell,row=_ref.row,column=_ref.column,width=_ref.width,height=_ref.height,getValue=_ref.getValue,setValue=_ref.setValue,Cell=_ref.cellRenderer,_useContext=Object(react.useContext)(editable_context),selection=Object(slicedToArray.a)(_useContext,1)[0].selection,_useState=Object(react.useState)(!1),_useState2=Object(slicedToArray.a)(_useState,2),edit=_useState2[0],setEdit=_useState2[1],onClick=Object(react.useCallback)((function(){setEdit(!0)}),[]);return edit?react_default.a.createElement("span",{className:classnames_default()("editable-cell","excel-theme-cell"),type:"cell",row:row,column:column},react_default.a.createElement(input_field,{cell:cell,getValue:getValue,setValue:setValue,row:row,column:column,height:height,onBlur:function onBlur(){return setEdit(!1)}})):react_default.a.createElement(selection_listener,{className:classnames_default()("editable-cell","excel-theme-cell",{selected:matchRule(selection,row,column)}),type:"cell",row:row,column:column,onClick:onClick},react_default.a.createElement(Cell,{cell:cell,row:row,column:column,width:width,height:height}))}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/input-field.js"]={name:"InputField",docgenInfo:InputField.__docgenInfo,path:"src/react-large-table-editable/input-field.js"}),EditableCell.__docgenInfo={description:"",methods:[],displayName:"EditableCell"};var editable_cell=EditableCell;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/editable-cell.js"]={name:"EditableCell",docgenInfo:EditableCell.__docgenInfo,path:"src/react-large-table-editable/editable-cell.js"});var create_editable_cell_renderer=function create(Cell,getValue,setValue){return function EditableCellRenderer(_ref){var cell=_ref.cell,row=_ref.row,column=_ref.column,width=_ref.width,height=_ref.height,_cell$editable=cell.editable;return void 0!==_cell$editable&&_cell$editable?react_default.a.createElement(editable_cell,{cell:cell,row:row,column:column,width:width,height:height,getValue:getValue,setValue:setValue,cellRenderer:Cell}):react_default.a.createElement("span",{className:classnames_default()("excel-theme-cell")},react_default.a.createElement(Cell,{cell:cell,row:row,column:column,width:width,height:height}))}};function header_renderer_Renderer(_ref){var column=_ref.column,index=_ref.index,_useContext=Object(react.useContext)(editable_context),state=Object(slicedToArray.a)(_useContext,1)[0],label=column.label,selected=function isInSelection(selection,index){if(selection){var rule=selection.rule,type=rule.type,_rule$column=rule.column,column=void 0===_rule$column?[]:_rule$column;if(column&&"head"===type){var _column=Object(slicedToArray.a)(column,2),start=_column[0],end=_column[1];if(index>=start&&index<=end)return!0}}return!1}(state.selection,index);return react_default.a.createElement(selection_listener,{className:classnames_default()("th-el-container",{selected:selected}),type:"head",column:index,row:0},label)}header_renderer_Renderer.__docgenInfo={description:"",methods:[],displayName:"Renderer"};var header_renderer=header_renderer_Renderer;function row_num_renderer_RowRenderer(_ref){var index=_ref.index,_useContext=Object(react.useContext)(editable_context),selected=function row_num_renderer_isInSelection(selection,index){if(selection){var rule=selection.rule,type=rule.type,row=rule.row;if(row&&"row"===type){var _row=Object(slicedToArray.a)(row,2),start=_row[0],end=_row[1];if(index>=start&&index<=end)return!0}}return!1}(Object(slicedToArray.a)(_useContext,1)[0].selection,index);return react_default.a.createElement(selection_listener,{className:classnames_default()("row",{selected:selected}),type:"row",row:index,column:0},index+1)}"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/header-renderer.js"]={name:"Renderer",docgenInfo:header_renderer_Renderer.__docgenInfo,path:"src/react-large-table-editable/header-renderer.js"}),row_num_renderer_RowRenderer.__docgenInfo={description:"",methods:[],displayName:"RowRenderer"};var row_num_renderer=react_default.a.memo(row_num_renderer_RowRenderer);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/row-num-renderer.js"]={name:"RowRenderer",docgenInfo:row_num_renderer_RowRenderer.__docgenInfo,path:"src/react-large-table-editable/row-num-renderer.js"});__webpack_require__(1448),__webpack_require__(1449);function editable_table_refillRows(rows,newCell,row,path){var next=Object(toConsumableArray.a)(rows);return rows[row][path]=newCell,next}function editable_table_Table(_ref){var dataFromProps=_ref.data,rowNums=_ref.rowNums,className=_ref.className,headerHeight=_ref.headerHeight,cellRenderer=_ref.cellRenderer,setValue=_ref.setValue,getValue=_ref.getValue,onChange=_ref.onChange,_useReducer=Object(react.useReducer)(state_management_reducers_reducer,state_management_initial_state),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],data=state.data,drag=state.drag,mouseOut=state.mouseOut,verticalScrollRequest=state.verticalScrollRequest,horizontalScrollRequest=state.horizontalScrollRequest,onChangeData=Object(react.useCallback)((function(h,r){dispatch(state_management_actions_namespaceObject.onUpdateData({header:h,rows:r}))}),[]),setValueCallback=Object(react.useCallback)((function(cell,value,row,column){if(getValue(cell)!==value){var newCell=setValue(cell,value),rows=data.rows,header=data.header,path=header[column].path;dispatch(state_management_actions_namespaceObject.onUpdateData({header:header,rows:editable_table_refillRows(rows,newCell,row,path)})),onChange(value,row,column)}}),[setValue,onChange,getValue,data]);Object(react.useEffect)((function(){dispatch(state_management_actions_namespaceObject.onUpdateData(dataFromProps))}),[dataFromProps]);var cellMemo=Object(react.useMemo)((function(){return create_editable_cell_renderer(cellRenderer,getValue,setValueCallback)}),[cellRenderer,getValue,setValueCallback]),onMouseLeave=Object(react.useCallback)((function(){dispatch(state_management_actions_namespaceObject.onMouseLeave())}),[]),onMouseEnter=Object(react.useCallback)((function(){dispatch(state_management_actions_namespaceObject.onMouseEnter())}),[]),onDocumentMouseMove=Object(react.useCallback)((function(e){var clientX=e.clientX,clientY=e.clientY;drag&&mouseOut&&dispatch(state_management_actions_namespaceObject.onDragOut({clientX:clientX,clientY:clientY}))}),[drag,mouseOut]),onDocumentMouseUp=Object(react.useCallback)((function(){drag&&dispatch(state_management_actions_namespaceObject.onStopDrag())}),[drag]);return Object(react.useEffect)((function(){return document.addEventListener("mouseup",onDocumentMouseUp),document.addEventListener("mousemove",onDocumentMouseMove),function(){document.removeEventListener("mouseup",onDocumentMouseUp),document.removeEventListener("mousemove",onDocumentMouseMove)}})),react_default.a.createElement(editable_context.Provider,{value:[state,dispatch]},react_default.a.createElement(react_large_table_react_large_table,{className:classnames_default()("editable-table",className),data:data,headerHeight:headerHeight,rowNums:rowNums,cellRenderer:cellMemo,onChangeData:onChangeData,headerRenderer:header_renderer,rowNumRenderer:row_num_renderer,verticalScrollRequest:verticalScrollRequest,horizontalScrollRequest:horizontalScrollRequest,onMouseLeave:onMouseLeave,onMouseEnter:onMouseEnter}))}editable_table_Table.defaultProps={cellRenderer:default_cell_renderer,rowNums:!0,className:void 0,headerHeight:30},editable_table_Table.__docgenInfo={description:"",methods:[],displayName:"Table",props:{cellRenderer:{defaultValue:{value:"DefaultCellRenderer",computed:!0},type:{name:"func"},required:!1,description:""},rowNums:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},className:{defaultValue:{value:"undefined",computed:!0},type:{name:"string"},required:!1,description:""},headerHeight:{defaultValue:{value:"30",computed:!1},type:{name:"number"},required:!1,description:""},data:{type:{name:"shape",value:{header:{name:"array",required:!0},rows:{name:"array",required:!0}}},required:!0,description:""},setValue:{type:{name:"func"},required:!0,description:""},getValue:{type:{name:"func"},required:!0,description:""},onChange:{type:{name:"func"},required:!1,description:""}}};var react_large_table_editable_editable_table=editable_table_Table;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-table-editable/editable-table.js"]={name:"Table",docgenInfo:editable_table_Table.__docgenInfo,path:"src/react-large-table-editable/editable-table.js"});var defineProperty=__webpack_require__(217),random_entities=__webpack_require__(57),__TYPES__=["string","sentence","number","euro","row-num"];function getRandomValue(type,i){switch(type){case"sentence":return Object(random_entities.c)();case"string":return"".concat(Object(random_entities.b)());case"number":return Object(random_entities.d)(1e4);case"euro":return Object(random_entities.d)(1e3);case"row-num":return i+1;default:return 0}}var random_table_data=function generate(nbCols,nbRows){var header=new Array(nbCols).fill(null).map((function(_,i){var type=__TYPES__[Object(random_entities.d)(__TYPES__.length)];return{path:"column".concat(i+1),__width:100+Object(random_entities.d)(100),label:"".concat(Object(random_entities.b)()," ").concat(type," ").concat(i+1),type:type,resizable:!0}})),rows=new Array(nbRows).fill(null).map((function(_,i){return header.reduce((function(a,_ref,j){var path=_ref.path,type=_ref.type;return Object(objectSpread2.a)(Object(objectSpread2.a)({},a),{},Object(defineProperty.a)({},path,{type:type,value:getRandomValue(type,i),editable:!0}))}),{__height:30+Object(random_entities.d)(60)})}));return{header:header,rows:rows}},react_large_table_stories_data=(__webpack_require__(1450),__webpack_require__(1451),__webpack_require__(1452),random_table_data(50,8e3)),react_large_table_stories_DefaultTable=function DefaultTable(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"A large table of ",50," columns and ",8e3," rows,",4e5," cells."),react_default.a.createElement("div",{className:"default-table-container"},react_default.a.createElement(react_large_table_react_large_table,{data:react_large_table_stories_data,headerHeight:30,treeSize:!1})),react_default.a.createElement("code",null,"const data = { header: [ { path, label, __width, ... }, ...], rows: [ { [path]: { __height,... },... },...] }"))};function CustomCellRenderer(_ref){var cell=_ref.cell,height=_ref.height,value=cell.value,type=cell.type;return react_default.a.createElement("span",{style:{lineHeight:"".concat(height,"px")},className:classnames_default()("custom-cell-renderer",type)},value)}var react_large_table_stories_WithRowNumsTable=function WithRowNumsTable(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"A large table of ",50," columns and ",8e3," rows,",4e5," cells."),react_default.a.createElement("div",{className:"default-table-container"},react_default.a.createElement(react_large_table_react_large_table,{data:react_large_table_stories_data,headerHeight:50,rowNums:!0})))},react_large_table_stories_CustomCellTable=function CustomCellTable(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"A large table of ",50," columns and ",8e3," rows,",4e5," cells."),react_default.a.createElement("div",{className:"default-table-container"},react_default.a.createElement(react_large_table_react_large_table,{className:"custom-large-table-theme",data:react_large_table_stories_data,headerHeight:50,cellRenderer:CustomCellRenderer})))},react_large_table_stories_EditableTable=function EditableTable(){var _useState=Object(react.useState)(void 0),_useState2=Object(slicedToArray.a)(_useState,2),last=_useState2[0],setLast=_useState2[1];return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,last?"".concat(last.value," at [").concat(last.row,", ").concat(last.column,"]"):null),react_default.a.createElement("div",{className:"default-table-container"},react_default.a.createElement(react_large_table_editable_editable_table,{className:"excel-theme",data:react_large_table_stories_data,headerHeight:50,cellRenderer:CustomCellRenderer,rowNums:!0,getValue:function getValue(_ref2){return _ref2.value},setValue:function setValue(o,value){return"object"==typeof o?Object(objectSpread2.a)(Object(objectSpread2.a)({},o),{},{value:value}):o},onChange:function onChange(value,row,column){return setLast({value:value,row:row,column:column})}})))};__webpack_exports__.default={title:"react-large-table",component:react_large_table_react_large_table,argTypes:{}};react_large_table_stories_DefaultTable.parameters=Object(objectSpread2.a)({storySource:{source:'function DefaultTable() {\n  return (\n    <>\n      <p>\n        A large table of {__WIDTH__} columns and {__HEIGHT__} rows,\n        {__WIDTH__ * __HEIGHT__} cells.\n      </p>\n      <div className="default-table-container">\n        <ReactLargeTable data={data} headerHeight={30} treeSize={false} />\n      </div>\n      <code>\n        const data = &#123; header: [ &#123; path, label, __width, ... &#125;,\n        ...], rows: [ &#123; [path]: &#123; __height,... &#125;,... &#125;,...]\n        &#125;\n      </code>\n    </>\n  );\n}'}},react_large_table_stories_DefaultTable.parameters),react_large_table_stories_WithRowNumsTable.parameters=Object(objectSpread2.a)({storySource:{source:'function WithRowNumsTable() {\n  return (\n    <>\n      <p>\n        A large table of {__WIDTH__} columns and {__HEIGHT__} rows,\n        {__WIDTH__ * __HEIGHT__} cells.\n      </p>\n      <div className="default-table-container">\n        <ReactLargeTable data={data} headerHeight={50} rowNums={true} />\n      </div>\n    </>\n  );\n}'}},react_large_table_stories_WithRowNumsTable.parameters),react_large_table_stories_CustomCellTable.parameters=Object(objectSpread2.a)({storySource:{source:'function CustomCellTable() {\n  return (\n    <>\n      <p>\n        A large table of {__WIDTH__} columns and {__HEIGHT__} rows,\n        {__WIDTH__ * __HEIGHT__} cells.\n      </p>\n      <div className="default-table-container">\n        <ReactLargeTable\n          className="custom-large-table-theme"\n          data={data}\n          headerHeight={50}\n          cellRenderer={CustomCellRenderer}\n        />\n      </div>\n    </>\n  );\n}'}},react_large_table_stories_CustomCellTable.parameters),react_large_table_stories_EditableTable.parameters=Object(objectSpread2.a)({storySource:{source:'function EditableTable() {\n  const [last, setLast] = useState(undefined);\n  return (\n    <>\n      <p>{last ? `${last.value} at [${last.row}, ${last.column}]` : null}</p>\n      <div className="default-table-container">\n        <ReactLargeTableEditable\n          className="excel-theme"\n          data={data}\n          headerHeight={50}\n          cellRenderer={CustomCellRenderer}\n          rowNums={true}\n          getValue={({ value }) => value}\n          setValue={(o, value) => (typeof o === "object" ? { ...o, value } : o)}\n          onChange={(value, row, column) => setLast({ value, row, column })}\n        />\n      </div>\n    </>\n  );\n}'}},react_large_table_stories_EditableTable.parameters),react_large_table_stories_DefaultTable.__docgenInfo={description:"",methods:[],displayName:"DefaultTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-table.stories.js"]={name:"DefaultTable",docgenInfo:react_large_table_stories_DefaultTable.__docgenInfo,path:"src/stories/react-large-table.stories.js"}),react_large_table_stories_WithRowNumsTable.__docgenInfo={description:"",methods:[],displayName:"WithRowNumsTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-table.stories.js"]={name:"WithRowNumsTable",docgenInfo:react_large_table_stories_WithRowNumsTable.__docgenInfo,path:"src/stories/react-large-table.stories.js"}),react_large_table_stories_CustomCellTable.__docgenInfo={description:"",methods:[],displayName:"CustomCellTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-table.stories.js"]={name:"CustomCellTable",docgenInfo:react_large_table_stories_CustomCellTable.__docgenInfo,path:"src/stories/react-large-table.stories.js"}),react_large_table_stories_EditableTable.__docgenInfo={description:"",methods:[],displayName:"EditableTable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-table.stories.js"]={name:"EditableTable",docgenInfo:react_large_table_stories_EditableTable.__docgenInfo,path:"src/stories/react-large-table.stories.js"})},1459:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultTree",(function(){return react_large_tree_stories_DefaultTree}));var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,"ON_REFRESH_DATA",(function(){return ON_REFRESH_DATA})),__webpack_require__.d(actions_namespaceObject,"onRefreshData",(function(){return onRefreshData}));var objectSpread2=__webpack_require__(1),react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(6),ON_REFRESH_DATA="react-large-tree/on-refresh-data",onRefreshData=function onRefreshData(root){return{type:ON_REFRESH_DATA,payload:{root:root}}},toConsumableArray=__webpack_require__(40);var get_height=function get(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},__height=_ref.__height;return __height};var get_children=function get_children_get(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},children=_ref.children;return children||[]},commons_scrollable=__webpack_require__(11);function compute(root,getSize){var rows=function linearRows(node){var level=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,subIndex=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,last=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],pattern=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",children=get_children(node);return children.length?children.reduce((function(a,child,i){var isLast=i===children.length-1,pattern_="".concat(pattern).concat(isLast?"0":"1");return[].concat(Object(toConsumableArray.a)(a),Object(toConsumableArray.a)(linearRows(child,level+1,i,isLast,pattern_)))}),[Object(objectSpread2.a)(Object(objectSpread2.a)({},node),{},{level:level,subIndex:subIndex,last:last,pattern:pattern})]):[Object(objectSpread2.a)(Object(objectSpread2.a)({},node),{},{level:level,subIndex:subIndex,last:last,pattern:"".concat(pattern)})]}(root).map((function(r,i){return Object(objectSpread2.a)(Object(objectSpread2.a)({},r),{},{index:i})})),cumulsSize=Object(commons_scrollable.c)(rows,getSize),max=rows.length;return[rows,{maxSize:cumulsSize[max],max:max,cumulsSize:cumulsSize}]}var reduce_on_refresh_data=function reduce(state,action){var _compute=compute(action.payload.root,get_height),_compute2=Object(slicedToArray.a)(_compute,2),rows=_compute2[0],vertical=_compute2[1];return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:vertical,rows:rows})};var reducer=function reducer_reduce(state,action){switch(action.type){case ON_REFRESH_DATA:return reduce_on_refresh_data(state,action);default:return state}};var initial_state={rows:void 0,horizontal:{max:void 0,maxSize:void 0,cumulsSize:void 0},vertical:{max:void 0,maxSize:void 0,cumulsSize:void 0}},react_large_scrollable=__webpack_require__(77),classnames=__webpack_require__(32),classnames_default=__webpack_require__.n(classnames);function DefaultRowRenderer(_ref){var row=_ref.row,level=row.level,label=row.label,pattern=row.pattern;return react_default.a.createElement("div",{className:"default-row-renderer"},function getIndent(level,pattern){return level?new Array(level).fill(null).map((function(_,i){var last=i===level-1,zero="0"===pattern[i],bar=!last&&!zero,tee=last&&!zero,end=last&&zero;return react_default.a.createElement("span",{key:i,className:classnames_default()("tree-node-indent",{bar:bar,tee:tee,end:end})})})):[]}(level,pattern),react_default.a.createElement("span",{className:"libelle"},label))}function Content(_ref2){var rows=_ref2.rows,verticalNb=_ref2.verticalNb,verticalStart=_ref2.verticalStart,marginTop=_ref2.marginTop,rowRenderer=_ref2.rowRenderer;if(rows&&rows.length){var content=function makeUl(){var rows=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],RowRenderer=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DefaultRowRenderer,li=rows.map((function(row){var index=row.index,__height=row.__height;return react_default.a.createElement("li",{style:{height:Object(commons_scrollable.e)(__height)},key:index},react_default.a.createElement(RowRenderer,{row:row}))}));return li}(rows.reduce((function(a,row){var index=row.index;return index>=verticalStart&&index<verticalStart+verticalNb?[].concat(Object(toConsumableArray.a)(a),[row]):a}),[]),rowRenderer);return react_default.a.createElement("ul",{className:"react-large-tree-content",style:{marginTop:Object(commons_scrollable.e)(marginTop)}},content)}return react_default.a.createElement("ul",{className:"react-large-tree-content"})}Content.__docgenInfo={description:"",methods:[],displayName:"Content"};var large_tree_content=Content;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-tree/large-tree-content.js"]={name:"Content",docgenInfo:Content.__docgenInfo,path:"src/react-large-tree/large-tree-content.js"});__webpack_require__(1453);function ReactLargeTree(_ref){var root=_ref.root,_useReducer=Object(react.useReducer)(reducer,initial_state),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],horizontal=state.horizontal,vertical=state.vertical,rows=state.rows;return Object(react.useEffect)((function(){root&&dispatch(actions_namespaceObject.onRefreshData(root))}),[root]),react_default.a.createElement("div",{className:"react-large-tree"},react_default.a.createElement(react_large_scrollable.a,{horizontal:horizontal,vertical:vertical},react_default.a.createElement(large_tree_content,{rows:rows})))}ReactLargeTree.__docgenInfo={description:"",methods:[],displayName:"ReactLargeTree"};var react_large_tree_react_large_tree=ReactLargeTree;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-tree/react-large-tree.js"]={name:"ReactLargeTree",docgenInfo:ReactLargeTree.__docgenInfo,path:"src/react-large-tree/react-large-tree.js"});var random_entities=__webpack_require__(57);function computeSize(node){var children=node.children,__height=node.__height;if(children){var ch=function computeChildrenSize(children,size){var _children$reduce=children.reduce((function(_ref,child){var _ref2=Object(slicedToArray.a)(_ref,2),ih=_ref2[0],ch=_ref2[1],nch=computeSize(child);return[ih+nch.__inner_height,[].concat(Object(toConsumableArray.a)(ch),[nch])]}),[size,[]]),_children$reduce2=Object(slicedToArray.a)(_children$reduce,2);return{__inner_height:_children$reduce2[0],children:_children$reduce2[1]}}(children,__height);return Object(objectSpread2.a)(Object(objectSpread2.a)({},node),ch)}return Object(objectSpread2.a)(Object(objectSpread2.a)({},node),{},{__inner_height:__height})}function getRandomChildren(how,depth){return depth>0?new Array(how).fill(null).reduce((function(a){var child=Object(random_entities.d)(10)>5?getRandomTree(depth-1):getRandomLeaf();return child?[].concat(Object(toConsumableArray.a)(a),[child]):a}),[]):[]}function getRandomLeaf(){return{label:Object(random_entities.c)(),__height:30,__width:50}}function getRandomTree(depth){if(depth>0){var node=getRandomLeaf(),how=10+Object(random_entities.d)(20);return Object(objectSpread2.a)(Object(objectSpread2.a)({},node),{},{children:getRandomChildren(how,depth)})}}var random_tree_data=getRandomTree,tree=(__webpack_require__(340),computeSize(random_tree_data(3))),react_large_tree_stories_DefaultTree=function DefaultTree(){return react_default.a.createElement("div",{className:"simple-scrollable-example"},react_default.a.createElement(react_large_tree_react_large_tree,{root:tree}))};__webpack_exports__.default={title:"react-large-tree",component:react_large_tree_react_large_tree,argTypes:{}};react_large_tree_stories_DefaultTree.parameters=Object(objectSpread2.a)({storySource:{source:'function DefaultTree() {\n  return (\n    <div className="simple-scrollable-example">\n      <ReactLargeTree root={tree} />\n    </div>\n  );\n}'}},react_large_tree_stories_DefaultTree.parameters),react_large_tree_stories_DefaultTree.__docgenInfo={description:"",methods:[],displayName:"DefaultTree"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-tree.stories.js"]={name:"DefaultTree",docgenInfo:react_large_tree_stories_DefaultTree.__docgenInfo,path:"src/stories/react-large-tree.stories.js"})},1460:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultLargeList",(function(){return react_large_list_stories_DefaultLargeList}));var objectSpread2=__webpack_require__(1),react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=__webpack_require__(6),classnames=__webpack_require__(32),classnames_default=__webpack_require__.n(classnames),commons_scrollable=__webpack_require__(11);function DefaultItemRenderer(_ref){var item=_ref.item,height=_ref.height,value=function getValue(item){switch(typeof item){case"number":case"boolean":case"string":return item;case"object":return"value"in item?item.value:"";default:return""}}(item);return react_default.a.createElement("span",{className:"default-item-renderer",style:{lineHeight:"".concat(height,"px")}},value)}function ContentList(_ref2){var list=_ref2.list,id=_ref2.id,verticalStart=_ref2.verticalStart,marginTop=_ref2.marginTop,verticalNb=_ref2.verticalNb,horizontalStart=_ref2.horizontalStart,marginLeft=_ref2.marginLeft,offsetChar=_ref2.offsetChar,_ref2$itemRenderer=_ref2.itemRenderer,ItemRenderer=void 0===_ref2$itemRenderer?DefaultItemRenderer:_ref2$itemRenderer;if(verticalNb){var contentLi=new Array(verticalNb).fill(null).map((function(_,i){var index=verticalStart+i,item=list[index],__height=item.__height,height=Object(commons_scrollable.e)(__height);return react_default.a.createElement("li",{key:index,style:{height:height}},react_default.a.createElement(ItemRenderer,{item:item,height:height}))}));return react_default.a.createElement("ul",{id:id,style:{marginTop:Object(commons_scrollable.e)(marginTop),marginLeft:Object(commons_scrollable.e)(marginLeft-offsetChar*horizontalStart)}},contentLi)}return react_default.a.createElement("ul",{id:id})}ContentList.__docgenInfo={description:"",methods:[],displayName:"ContentList",props:{itemRenderer:{defaultValue:{value:'function DefaultItemRenderer({ item, height }) {\n  const value = getValue(item);\n  return (\n    <span\n      className="default-item-renderer"\n      style={{ lineHeight: `${height}px` }}\n    >\n      {value}\n    </span>\n  );\n}',computed:!1},required:!1}}};var list_content=react_default.a.memo(ContentList);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-list/list-content.js"]={name:"ContentList",docgenInfo:ContentList.__docgenInfo,path:"src/react-large-list/list-content.js"});var react_large_scrollable=__webpack_require__(77);function getHeight(_ref){return _ref.__height||0}var compute_vertical=function compute(list){var cumulsSize=Object(commons_scrollable.c)(list,getHeight),max=list.length;return{cumulsSize:cumulsSize,max:max,maxSize:cumulsSize[max]}};var compute_horizontal=function compute_horizontal_compute(list,offsetChar){var max=list.reduce((function(curr,o){return Math.max(function getWidth(_ref){return _ref.__width||0}(o),curr)}),0),cumulsSize=Object(commons_scrollable.c)(new Array(max).fill(null),(function(){return offsetChar}));return{cumulsSize:cumulsSize,max:max,maxSize:cumulsSize[max-1]}},__REACT_LARGE_LIST_INDEX__=(__webpack_require__(1444),1);function initializeScrollable(){return{max:void 0,maxSize:void 0,cumulsSize:void 0}}function ReactLargeList(_ref){var className=_ref.className,list=_ref.list,offsetChar=_ref.offsetChar,_useState=Object(react.useState)((function(){return function getId(){return"react-large-list-".concat(__REACT_LARGE_LIST_INDEX__++)}()})),id=Object(slicedToArray.a)(_useState,1)[0],_useState3=Object(react.useState)(initializeScrollable),_useState4=Object(slicedToArray.a)(_useState3,2),vertical=_useState4[0],setVertical=_useState4[1],_useState5=Object(react.useState)(initializeScrollable),_useState6=Object(slicedToArray.a)(_useState5,2),horizontal=_useState6[0],setHorizontal=_useState6[1];return Object(react.useEffect)((function(){setVertical(compute_vertical(list)),setHorizontal(compute_horizontal(list,offsetChar))}),[list,offsetChar]),react_default.a.createElement("div",{className:classnames_default()("react-large-list",className)},react_default.a.createElement(react_large_scrollable.a,{id:id,vertical:vertical,horizontal:horizontal},react_default.a.createElement(list_content,{id:id,list:list,offsetChar:offsetChar})))}function WrappingOffsetchar(props){return react_default.a.createElement(commons_scrollable.a,null,react_default.a.createElement(ReactLargeList,props))}WrappingOffsetchar.__docgenInfo={description:"",methods:[],displayName:"WrappingOffsetchar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-list/react-large-list.js"]={name:"WrappingOffsetchar",docgenInfo:WrappingOffsetchar.__docgenInfo,path:"src/react-large-list/react-large-list.js"});var random_entities=__webpack_require__(57),randomList=(__webpack_require__(1445),Object(random_entities.a)(1e4)),react_large_list_stories_DefaultLargeList=function DefaultLargeList(){return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("p",null,"A large list of ",1e4," items."),react_default.a.createElement("div",{className:"react-large-list-container"},react_default.a.createElement(WrappingOffsetchar,{list:randomList})))};__webpack_exports__.default={title:"react-large-list",component:WrappingOffsetchar,argTypes:{}};react_large_list_stories_DefaultLargeList.parameters=Object(objectSpread2.a)({storySource:{source:'function DefaultLargeList() {\n  return (\n    <>\n      <p>A large list of {__LIST_LENGTH__} items.</p>\n      <div className="react-large-list-container">\n        <ReactLargeList list={randomList} />\n      </div>\n    </>\n  );\n}'}},react_large_list_stories_DefaultLargeList.parameters),react_large_list_stories_DefaultLargeList.__docgenInfo={description:"",methods:[],displayName:"DefaultLargeList"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-large-list.stories.js"]={name:"DefaultLargeList",docgenInfo:react_large_list_stories_DefaultLargeList.__docgenInfo,path:"src/stories/react-large-list.stories.js"})},1462:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"LargeDrawable",(function(){return react_scrollable_stories_LargeDrawable})),__webpack_require__.d(__webpack_exports__,"SmallDrawable",(function(){return react_scrollable_stories_SmallDrawable})),__webpack_require__.d(__webpack_exports__,"CompleteExample",(function(){return react_scrollable_stories_CompleteExample}));var objectSpread2=__webpack_require__(1),slicedToArray=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react),toConsumableArray=__webpack_require__(40),toArray=__webpack_require__(523),commons_scrollable=__webpack_require__(11),react_large_scrollable=__webpack_require__(77),__INDEX_ID__=(__webpack_require__(1454),1);function Line(_ref){var content=_ref.content;return react_default.a.createElement(react_default.a.Fragment,null,content,react_default.a.createElement("br",null))}function ContentText(_ref2){var rows=_ref2.rows,verticalStart=_ref2.verticalStart,marginTop=_ref2.marginTop,verticalNb=_ref2.verticalNb,height=_ref2.height,lines=new Array(verticalNb).fill(null).map((function(_,i){var index=verticalStart+i;return react_default.a.createElement(Line,{content:rows[index],key:index})}));return react_default.a.createElement("p",{style:{marginTop:marginTop,lineHeight:"".concat(height,"px")},className:"content"},lines)}function getId(){return"react-large-table-".concat(__INDEX_ID__++)}function consumeWords(words,max){var current=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,_words=Object(toArray.a)(words),next=_words[0],rest=_words.slice(1);if(next&&current+next.length<max){var _consumeWords=consumeWords(rest,max,current+next.length+1),_consumeWords2=Object(slicedToArray.a)(_consumeWords,2),s=_consumeWords2[0],n=_consumeWords2[1];return["".concat(next," ").concat(s),n]}return["",words]}function computeRows(text,lineChar){return lineChar?text.split("\r\n").filter((function(_ref3){return _ref3.length>0})).reduce((function(current,paragraphe){var rows=function fillRows(words,max){for(var rows=[],stack=Object(toConsumableArray.a)(words);stack.length;){var _consumeWords3=consumeWords(stack,max),_consumeWords4=Object(slicedToArray.a)(_consumeWords3,2),row=_consumeWords4[0],rest=_consumeWords4[1];rows.push(row),stack=rest}return rows}(paragraphe.split(" "),lineChar);return[].concat(Object(toConsumableArray.a)(current),Object(toConsumableArray.a)(rows))}),[]):[]}function ReactLargeText(_ref4){var offsetChar=_ref4.offsetChar,value=_ref4.value,lineHeight=_ref4.lineHeight,onCompute=_ref4.onCompute,_useState=Object(react.useState)(commons_scrollable.d),_useState2=Object(slicedToArray.a)(_useState,2),vertical=_useState2[0],setVertical=_useState2[1],_useState3=Object(react.useState)([]),_useState4=Object(slicedToArray.a)(_useState3,2),rows=_useState4[0],setRows=_useState4[1],_useState5=Object(react.useState)(commons_scrollable.d),_useState6=Object(slicedToArray.a)(_useState5,2),horizontal=_useState6[0],setHorizontal=_useState6[1],_useState7=Object(react.useState)(void 0),_useState8=Object(slicedToArray.a)(_useState7,2),viewportWidth=_useState8[0],setViewportWidth=_useState8[1],_useState9=Object(react.useState)(getId),id=Object(slicedToArray.a)(_useState9,1)[0],onResize=Object(react.useCallback)((function(width,height){return setViewportWidth(width),[width,height]}),[]);return Object(react.useEffect)((function(){viewportWidth&&setHorizontal(function computeHorizontal(viewportWidth,offsetChar){var max=Math.trunc(viewportWidth/offsetChar);return{max:max,maxSize:viewportWidth,cumulsSize:Object(commons_scrollable.c)(new Array(max).fill(null),(function(){return offsetChar}))}}(viewportWidth,offsetChar))}),[viewportWidth,offsetChar]),Object(react.useEffect)((function(){rows.length&&setVertical(function computeVertical(rows,lineHeight){var max=rows.length;return{max:max,maxSize:max*lineHeight,cumulsSize:Object(commons_scrollable.c)(new Array(max).fill(null),(function(){return lineHeight}))}}(rows,lineHeight))}),[rows,lineHeight]),Object(react.useEffect)((function(){if(horizontal){var max=horizontal.max,nr=computeRows(value,max);setRows(nr),onCompute&&onCompute(nr)}}),[horizontal,value,onCompute]),react_default.a.createElement("div",{className:"react-large-text"},react_default.a.createElement(react_large_scrollable.a,{id:id,vertical:vertical,horizontal:horizontal,onResize:onResize,treeSize:!0},react_default.a.createElement(ContentText,{rows:rows,height:lineHeight})))}var react_large_text_react_large_text=function(_ref5){var value=_ref5.value,lineHeight=_ref5.lineHeight,onCompute=_ref5.onCompute;return react_default.a.createElement(commons_scrollable.a,null,react_default.a.createElement(ReactLargeText,{value:value,lineHeight:lineHeight,onCompute:onCompute}))},react_scrollable=__webpack_require__(166);__webpack_require__(340);function SimpleScrollable(_ref){var width=_ref.width,height=_ref.height;return react_default.a.createElement("div",{className:"simple-scrollable-example"},react_default.a.createElement(react_scrollable.a,{maxWidth:width,maxHeight:height,onHorizontalScroll:function onHorizontalScroll(){return null},onVerticalScroll:function onVerticalScroll(){return null},verticalScrollPercentRequest:void 0,horizontalScrollPercentRequest:void 0},react_default.a.createElement("div",{className:"content"},"".concat(width," x ").concat(height))))}var react_scrollable_stories_LargeDrawable=function LargeDrawable(){return react_default.a.createElement(SimpleScrollable,{width:2e3,height:15e3})},react_scrollable_stories_SmallDrawable=function SmallDrawable(){return react_default.a.createElement(SimpleScrollable,{width:200,height:200})},react_scrollable_stories_CompleteExample=function CompleteExample(){var _useState=Object(react.useState)(void 0),_useState2=Object(slicedToArray.a)(_useState,2),nb=_useState2[0],setNb=_useState2[1],onCompute=Object(react.useCallback)((function(rows){setNb(rows.length)}),[]);return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("h1",null,"Text with ",nb," rows."),react_default.a.createElement("div",{className:"large-text-container"},react_default.a.createElement(react_large_text_react_large_text,{value:"Messieurs,\r\n\r\nVotre fondateur mit dans votre établissement toute la noblesse et la grandeur de son ame ; il voulut que vous fussiez toujours libres et égaux. En effet, il dut élever au-dessus de la dépendance, des hommes qui étoient au-dessus de l’intérêt, et qui, aussi généreux que lui, faisoient aux Lettres l’honneur qu’elles méritent, de les cultiver pour elles-mêmes. Il étoit peut-être à craindre qu’un jour des travaux si honorables ne se ralentissent. Ce fut pour les conserver dans leur vigueur que vous vous fîtes une règle de n’admettre aucun Académicien, qui ne résidât dans Paris. Vous vous êtes écartés sagement de cette loi, quand vous avez reçu de ces génies rares que leurs dignités appeloient ailleurs, mais que leurs ouvrages touchans ou sublimes rendoient toujours présens parmi vous ; car ce seroit violer l’esprit d’une loi, que de n’en pas transgresser la lettre en faveur des grands hommes. Si feu M. le président Bouhier, après s’être flatté de vous consacrer ses jours, fut obligé de les passer loin de vous, l’Académie et lui se consolèrent, parce qu’il n’en cultivoit pas moins vos sciences dans la ville de Dijon, qui a produit tant d’hommes de lettres, et où le mérite de l’esprit semble être un des caractères des citoyens.Il faisoit ressouvenir la France de ces temps où les plus austères Magistrats, consommés, comme lui, dans l’étude des lois, se délassoient des fatigues de leur état dans les travaux de la littérature. Que ceux qui méprisent ces travaux aimables ; que ceux qui mettent je ne sais quelle misérable grandeur à se renfermer dans le cercle étroit de leurs emplois, sont à plaindre ! Ignorent-ils que Cicéron, après avoir rempli la première place du monde, plaidoit encore les causes des citoyens, écrivoit sur la nature des Dieux, conféroit avec des philosophes ; qu’il alloit au théâtre ; qu’il daignoit cultiver l’amitié d’Esopus et de Roscius, et laissoit aux petits esprits leur constante gravité, qui n’est que le masque de la médiocrité ?M. le président Bouhier étoit très-savant ; mais il ne ressembloit pas à ces savans insociables et inutiles, qui négligent l’étude de leur propre langue, pour savoir imparfaitement des langues anciennes ; qui se croient en droit de mépriser leur siècle, parce qu’ils se flattent d’avoir quelques connoissances des siècles passés ; qui se récrient sur un passage d’Eschyle, et n’ont jamais eu le plaisir de verser des larmes à nos spectacles.Il traduisit le poème de Pétrone sur la guerre civile ; non qu’il pensât que cette déclamation, pleine de pensées fausses, approchât de la sage et élégante noblesse de Virgile : il savoit que la satire de Pétrone, quoique semée de traits charmans, n’est que le caprice d’un jeune homme obscur, qui n’eut de frein ni dans ses mœurs, ni dans son style. Des hommes qui se sont donnés pour des maîtres de goût et de volupté, estiment tout dans Pétrone ; et M. Bouhier, plus éclairé, n’estime pas même tout ce qu’il a traduit : c’est un des progrès de la raison humaine dans ce siècle, qu’un traducteur ne soit plus idolâtre de son auteur, et qu’il sache lui rendre justice comme à un contemporain.Il exerça ses talens sur ce poème, sur l’hymne à Vénus, sur Anacréon, pour montrer que les poètes doivent être traduits en vers : c’étoit une opinion qu’il défendoit avec chaleur, et on ne sera pas étonné que je me range à son sentiment.\r\nQu’il me soit permis, Messieurs, d’entrer ici avec vous dans ces discussions littéraires ; mes doutes me vaudront de vous des décisions. C’est ainsi que je pourrai contribuer aux progrès des arts ; j’aimerois mieux prononcer devant vous un discours utile qu’un discours éloquent.Pourquoi Homère, Théocrite, Lucrèce, Virgile, Horace sont-ils heureusement traduits chez les Italiens et chez les Anglois ? Pourquoi ces Nations n’ont-elles aucun grand Poète de l’antiquité en prose, et que nous n’en avons encore eu aucun en vers ? Je vais tâcher d’en démêler la raison.La difficulté, surmontée dans quelque genre que ce puisse être, fait une grande partie du mérite. Point de grandes choses sans de grandes peines ; et il n’y a point de Nation au monde chez laquelle il soit plus difficile que chez la nôtre, de rendre une véritable vie à la poésie ancienne.Les premiers Poètes formèrent le génie de leur langue ; les Grecs et les Latins employèrent d’abord la poésie à peindre les objets sensibles de toute la nature. Homère exprime tout ce qui frappe les yeux ; les François, qui n’ont guère commencé à perfectionner la grande poésie qu’au théâtre, n’ont pu et n’ont dû exprimer alors que ce qui peut toucher l’ame.Nous nous sommes interdit nous-mêmes insensiblement presque tous les objets que d’autres Nations ont osé peindre. Il n’est rien que le Dante n’exprimât, à l’exemple des anciens : il accoutuma les Italiens à tout dire ; mais nous, comment pourrions-nous aujourd’hui imiter l’auteur des Géorgiques, qui nomme sans détour tous les instrumens de l’agriculture ? À peine les connoissons-nous ; et notre mollesse orgueilleuse dans le sein du repos et du luxe de nos villes, attache malheureusement une idée basse à ces travaux champêtres et au détail de ces arts utiles, que les maîtres et les législateurs de la terre cultivoient de leurs mains victorieuses.Si nos bons Poètes avoient su exprimer heureusement les petites choses, notre langue ajouteroit aujourd’hui ce mérite, qui est très-grand, à l’avantage d’être devenue la première langue du monde, pour les charmes de la conversation et pour l’expression du sentiment. Le langage du cœur et le style du théâtre ont entièrement prévalu. Ils ont embelli la langue françoise ; mais ils en ont resserré les agréments dans des bornes un peu étroites.\r\nEt quand je dis ici, Messieurs, que ce sont les grands Poètes qui ont déterminé le génie des langues, je n’avance rien qui ne soit connu de vous. Les Grecs n’écrivirent l’histoire que quatre cents ans après Homère. La langue grecque reçut, de ce grand peintre de la nature, la supériorité qu’elle prit chez tous les peuples de l’Asie et de l’Europe : c’est Térence qui, chez les Romains, parla le premier avec une pureté toujours élégante : c’est Pétrarque qui, après le Dante, donna à la langue italienne cette aménité et cette grace qu’elle a toujours conservées. C’est à Lopez de Vega que l’Espagnol doit sa noblesse et sa pompe : c’est Shakespear, qui, tout barbare qu’il étoit, mit dans l’anglois cette force et cette énergie qu’on n’a jamais pu augmenter depuis sans l’outrer, et par conséquent, sans l’affoiblir. D’où vient ce grand effet de la poésie, de former et de fixer enfin le génie des peuples et de leurs langues ? La cause en est bien sensible : les premiers bons vers, ceux même qui n’en ont que l’apparence, s’impriment dans la mémoire, à l’aide de l’harmonie. Leurs tours naturels et hardis deviennent familiers ; les hommes, qui sont tous nés imitateurs, prennent insensiblement la manière de s’exprimer, et même de penser, des premiers dont l’imagination a subjugué celle des autres. Me désavouerez vous donc, Messieurs, quand je dirai que le vrai mérite et la réputation de notre langue ont commencé à l’auteur du Cid et de Cinna ?\r\nMontagne, avant lui, étoit le seul livre qui attirât l’attention du petit nombre d’étrangers qui pouvoient savoir le françois ; mais le style de Montagne n’est ni pur, ni correct, ni précis, ni noble : il est énergique et familier : il exprime naïvement de grandes choses : c’est cette naïveté qui plaît ; on aime le caractère de l’auteur ; on se plaît à se retrouver dans ce qu’il dit de lui même, à converser, à changer de discours et d’opinion avec lui. J’entends souvent regretter le langage de Montagne, c’est son imagination qu’il faut regretter : elle étoit forte et hardie ; mais sa langue étoit bien loin de l’être.\r\nMarot, qui avoit formé le langage de Montagne, n’a presque jamais été connu hors de sa patrie ; il a été goûté parmi nous pour quelques contes naïfs, pour quelques épigrammes licencieuses, dont le succès est presque toujours dans le sujet : mais c’est par ce petit mérite même que la langue fut long-temps avilie. On écrivoit dans ce style les tragédies, les poèmes, l’histoire, les livres de morale.\r\nLe judicieux Despréaux a dit : imitez de Marot l’élégant badinage ; j’ose croire qu’il auroit dit : naïf badinage, si ce mot plus vrai n’eût rendu son vers moins coulant. Il n’y a de véritablement bons ouvrages, que ceux qui passent chez les nations étrangères, qu’on y apprend, qu’on y traduit : et chez quel peuple a-t-on jamais traduit Marot ?\r\n",lineHeight:22,onCompute:onCompute})),react_default.a.createElement("p",null,"It use a custom component and a scrollable div. You can't resize horizontally. Too costly."))};__webpack_exports__.default={title:"react-scrollable",component:react_scrollable.a,argTypes:{}};react_scrollable_stories_LargeDrawable.parameters=Object(objectSpread2.a)({storySource:{source:"function LargeDrawable() {\n  return <SimpleScrollable width={2000} height={15000} />;\n}"}},react_scrollable_stories_LargeDrawable.parameters),react_scrollable_stories_SmallDrawable.parameters=Object(objectSpread2.a)({storySource:{source:"function SmallDrawable() {\n  return <SimpleScrollable width={200} height={200} />;\n}"}},react_scrollable_stories_SmallDrawable.parameters),react_scrollable_stories_CompleteExample.parameters=Object(objectSpread2.a)({storySource:{source:'function CompleteExample() {\n  /* */\n  const [nb, setNb] = useState(undefined);\n  const onCompute = useCallback(function (rows) {\n    setNb(rows.length);\n  }, []);\n  return (\n    <>\n      <h1>Text with {nb} rows.</h1>\n      <div className="large-text-container">\n        <ReactLargeText value={TEXT} lineHeight={22} onCompute={onCompute} />\n      </div>\n      <p>\n        It use a custom component and a scrollable div. You can\'t resize\n        horizontally. Too costly.\n      </p>\n    </>\n  );\n}'}},react_scrollable_stories_CompleteExample.parameters),react_scrollable_stories_LargeDrawable.__docgenInfo={description:"",methods:[],displayName:"LargeDrawable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-scrollable.stories.js"]={name:"LargeDrawable",docgenInfo:react_scrollable_stories_LargeDrawable.__docgenInfo,path:"src/stories/react-scrollable.stories.js"}),react_scrollable_stories_SmallDrawable.__docgenInfo={description:"",methods:[],displayName:"SmallDrawable"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-scrollable.stories.js"]={name:"SmallDrawable",docgenInfo:react_scrollable_stories_SmallDrawable.__docgenInfo,path:"src/stories/react-scrollable.stories.js"}),react_scrollable_stories_CompleteExample.__docgenInfo={description:"",methods:[],displayName:"CompleteExample"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/react-scrollable.stories.js"]={name:"CompleteExample",docgenInfo:react_scrollable_stories_CompleteExample.__docgenInfo,path:"src/stories/react-scrollable.stories.js"})},166:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return components_scrollable_container}));var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,"ON_RESIZE",(function(){return ON_RESIZE})),__webpack_require__.d(actions_namespaceObject,"onResize",(function(){return actions_onResize})),__webpack_require__.d(actions_namespaceObject,"ON_INIT",(function(){return ON_INIT})),__webpack_require__.d(actions_namespaceObject,"onInit",(function(){return onInit})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_START_DRAG",(function(){return ON_VERTICAL_START_DRAG})),__webpack_require__.d(actions_namespaceObject,"onVerticalStartDrag",(function(){return onVerticalStartDrag})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_DRAG",(function(){return ON_VERTICAL_DRAG})),__webpack_require__.d(actions_namespaceObject,"onVerticalDrag",(function(){return onVerticalDrag})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_STOP_DRAG",(function(){return ON_VERTICAL_STOP_DRAG})),__webpack_require__.d(actions_namespaceObject,"onVerticalStopDrag",(function(){return onVerticalStopDrag})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_START_DRAG",(function(){return ON_HORIZONTAL_START_DRAG})),__webpack_require__.d(actions_namespaceObject,"onHorizontalStartDrag",(function(){return onHorizontalStartDrag})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_DRAG",(function(){return ON_HORIZONTAL_DRAG})),__webpack_require__.d(actions_namespaceObject,"onHorizontalDrag",(function(){return onHorizontalDrag})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_STOP_DRAG",(function(){return ON_HORIZONTAL_STOP_DRAG})),__webpack_require__.d(actions_namespaceObject,"onHorizontalStopDrag",(function(){return onHorizontalStopDrag})),__webpack_require__.d(actions_namespaceObject,"ON_REFRESH_VIEWPORT",(function(){return ON_REFRESH_VIEWPORT})),__webpack_require__.d(actions_namespaceObject,"onRefreshViewport",(function(){return onRefreshViewport})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_MOUSE_DOWN",(function(){return ON_VERTICAL_MOUSE_DOWN})),__webpack_require__.d(actions_namespaceObject,"onVerticalMouseDown",(function(){return onVerticalMouseDown})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_MOUSE_DOWN",(function(){return ON_HORIZONTAL_MOUSE_DOWN})),__webpack_require__.d(actions_namespaceObject,"onHorizontalMouseDown",(function(){return onHorizontalMouseDown})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_SCROLL_PERCENT_REQUEST",(function(){return ON_VERTICAL_SCROLL_PERCENT_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onVerticalScrollPercentRequest",(function(){return onVerticalScrollPercentRequest})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_SCROLL_PERCENT_REQUEST",(function(){return ON_HORIZONTAL_SCROLL_PERCENT_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onHorizontalScrollPercentRequest",(function(){return onHorizontalScrollPercentRequest})),__webpack_require__.d(actions_namespaceObject,"ON_WHEEL",(function(){return ON_WHEEL})),__webpack_require__.d(actions_namespaceObject,"onWheel",(function(){return onWheel})),__webpack_require__.d(actions_namespaceObject,"ON_KEYDOWN",(function(){return ON_KEYDOWN})),__webpack_require__.d(actions_namespaceObject,"onKeyDown",(function(){return onKeyDown}));var slicedToArray=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react);var use_resize_observer=function useResizeObserver(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},ref=Object(react.useRef)();return Object(react.useEffect)((function(){var observer,current=ref.current;return current&&(observer=new ResizeObserver((function(){var _current$getBoundingC=current.getBoundingClientRect(),height=_current$getBoundingC.height,width=_current$getBoundingC.width;callback(width,height)}))).observe(current),function(){observer&&observer.unobserve(current)}}),[ref,callback]),ref},ON_RESIZE="react-scrollable/on-resize",actions_onResize=function onResize(_ref){var width=_ref.width,height=_ref.height,viewportWidth=_ref.viewportWidth,viewportHeight=_ref.viewportHeight;return{type:ON_RESIZE,payload:{width:width,height:height,viewportWidth:viewportWidth,viewportHeight:viewportHeight}}},ON_INIT="react-scrollable/on-init",onInit=function onInit(maxWidth,maxHeight){return{type:ON_INIT,payload:{maxWidth:maxWidth,maxHeight:maxHeight}}},ON_VERTICAL_START_DRAG="react-scrollable/on-vertical-start-drag",onVerticalStartDrag=function onVerticalStartDrag(clientPos){return{type:ON_VERTICAL_START_DRAG,payload:{clientPos:clientPos}}},ON_VERTICAL_DRAG="react-scrollable/on-vertical-drag",onVerticalDrag=function onVerticalDrag(clientPos){return{type:ON_VERTICAL_DRAG,payload:{clientPos:clientPos}}},ON_VERTICAL_STOP_DRAG="react-scrollable/on-vertical-stop-drag",onVerticalStopDrag=function onVerticalStopDrag(){return{type:ON_VERTICAL_STOP_DRAG}},ON_HORIZONTAL_START_DRAG="react-scrollable/on-horizontal-start-drag",onHorizontalStartDrag=function onHorizontalStartDrag(clientPos){return{type:ON_HORIZONTAL_START_DRAG,payload:{clientPos:clientPos}}},ON_HORIZONTAL_DRAG="react-scrollable/on-horizontal-drag",onHorizontalDrag=function onHorizontalDrag(clientPos){return{type:ON_HORIZONTAL_DRAG,payload:{clientPos:clientPos}}},ON_HORIZONTAL_STOP_DRAG="react-scrollable/on-horizontal-stop-drag",onHorizontalStopDrag=function onHorizontalStopDrag(){return{type:ON_HORIZONTAL_STOP_DRAG}},ON_REFRESH_VIEWPORT="react-scrollable/on-refresh-viewport",onRefreshViewport=function onRefreshViewport(){return{type:ON_REFRESH_VIEWPORT}},ON_VERTICAL_MOUSE_DOWN="react-scrollable/on-vertical-mouse-down",onVerticalMouseDown=function onVerticalMouseDown(clientPos){return{type:ON_VERTICAL_MOUSE_DOWN,payload:{clientPos:clientPos}}},ON_HORIZONTAL_MOUSE_DOWN="react-scrollable/on-horizontal-mouse-down",onHorizontalMouseDown=function onHorizontalMouseDown(clientPos){return{type:ON_HORIZONTAL_MOUSE_DOWN,payload:{clientPos:clientPos}}},ON_VERTICAL_SCROLL_PERCENT_REQUEST="react-scrollable/on-vertical-scroll-percent-request",onVerticalScrollPercentRequest=function onVerticalScrollPercentRequest(percent){return{type:ON_VERTICAL_SCROLL_PERCENT_REQUEST,payload:{percent:percent}}},ON_HORIZONTAL_SCROLL_PERCENT_REQUEST="react-scrollable/on-horizontal-scroll-percent-request",onHorizontalScrollPercentRequest=function onHorizontalScrollPercentRequest(percent){return{type:ON_HORIZONTAL_SCROLL_PERCENT_REQUEST,payload:{percent:percent}}},ON_WHEEL="react-scrollable/on-wheel",onWheel=function onWheel(delta){return{type:ON_WHEEL,payload:{delta:delta}}},ON_KEYDOWN="react-scrollable/on-key-down",onKeyDown=function onKeyDown(key){return{type:ON_KEYDOWN,payload:{key:key}}},objectSpread2=__webpack_require__(1),SCROLLBAR_INITIAL_STATE={max:void 0,tPos:void 0,tSize:void 0,pSize:void 0,drag:!1,scrollPercent:0,clientPos:void 0},initial_state={init:!0,refresh:!0,horizontal:Object(objectSpread2.a)({},SCROLLBAR_INITIAL_STATE),vertical:Object(objectSpread2.a)({},SCROLLBAR_INITIAL_STATE)};function compose(){for(var _len=arguments.length,reducers=new Array(_len),_key=0;_key<_len;_key++)reducers[_key]=arguments[_key];return reducers.reduce((function(a,b){return function(state,action){return a(b(state,action),action)}}))}var reduce_on_init=function reduce(state,action){var payload=action.payload,maxWidth=payload.maxWidth,maxHeight=payload.maxHeight,horizontal=state.horizontal,vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:Object(objectSpread2.a)(Object(objectSpread2.a)({},horizontal),{},{max:maxWidth,tPos:0}),vertical:Object(objectSpread2.a)(Object(objectSpread2.a)({},vertical),{},{max:maxHeight,tPos:0})})};function resolve(scrollbar,size){return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{size:size})}var reduce_on_resize=function reduce_on_resize_reduce(state,action){var payload=action.payload,width=payload.width,height=payload.height,viewportWidth=payload.viewportWidth,viewportHeight=payload.viewportHeight,horizontal=state.horizontal,vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{viewportWidth:viewportWidth,viewportHeight:viewportHeight,horizontal:resolve(horizontal,width),vertical:resolve(vertical,height)})};var compute_scrollbar_size=function compute(scrollbar,viewportSize){var max=scrollbar.max,size=scrollbar.size,percent=viewportSize/max,pSize=Math.trunc(percent*viewportSize),tSize=Math.max(Math.trunc(percent*size),10);return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{pSize:pSize,tSize:tSize})};var compute_scrollbar_pos=function computeScrollbarPos(scrollbar){var size=scrollbar.size,tSize=scrollbar.tSize,scrollPercent=scrollbar.scrollPercent,tPos=Math.max(Math.min(scrollPercent*(size-tSize),size-tSize),0);return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{tPos:tPos})};var compute_scrollbar_scroll_percent=function compute_scrollbar_scroll_percent_compute(scrollbar){var tPos=scrollbar.tPos,size=scrollbar.size,tSize=scrollbar.tSize;if(tSize<size){var scrollPercent=tPos/(size-tSize);return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:scrollPercent})}return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:1})};function reduce_on_refresh_viewport_resolve(scrollbar,viewportSize){return compute_scrollbar_pos(compute_scrollbar_size(scrollbar,viewportSize))}var reduce_on_refresh_viewport=function reduce_on_refresh_viewport_reduce(state){var horizontal=state.horizontal,vertical=state.vertical,viewportWidth=state.viewportWidth,viewportHeight=state.viewportHeight;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:reduce_on_refresh_viewport_resolve(horizontal,viewportWidth),vertical:reduce_on_refresh_viewport_resolve(vertical,viewportHeight)})};function reduce_on_start_drag_resolve(scrollbar,action){var clientPos=action.payload.clientPos;return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{clientPos:clientPos,drag:!0})}function reduce_on_stop_drag_resolve(scrollbar){return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{drag:!1,clientPos:void 0})}function reduce_on_drag_resolve(scrollbar,action){var clientPos=action.payload.clientPos,size=scrollbar.size,tPos=scrollbar.tPos,tSize=scrollbar.tSize,prec=scrollbar.clientPos,delta=prec-(clientPos||prec),pos=Math.min(Math.max(tPos-(delta||0),0),size-tSize);return compute_scrollbar_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{tPos:pos,clientPos:clientPos}))}function reduce_on_mouse_down_resolve(scrollbar,action){var clientPos=action.payload.clientPos,size=scrollbar.size,tSize=scrollbar.tSize,tPos=Math.min(clientPos,size-tSize);return size>tSize?compute_scrollbar_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{tPos:tPos})):scrollbar}function safePercent(percent){return Math.min(1,Math.max(0,percent))}function reduce_on_scroll_percent_request_resolve(scrollbar,action){var percent=action.payload.percent;return void 0!==percent?compute_scrollbar_pos(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:safePercent(percent)})):scrollbar}function reduce_on_wheel_resolve(scrollbar,action){var delta=action.payload.delta,tPos=scrollbar.tPos,size=scrollbar.size,tSize=scrollbar.tSize,max=scrollbar.max,next=Math.min(Math.max(tPos+100*function getDirection(delta){return void 0!==delta&&0!==delta?Math.abs(delta)/delta:0}(delta)*(size/(1+max)),0),size-tSize);return compute_scrollbar_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{tPos:next}))}var reduce_on_wheel=function reduce_on_wheel_reduce(state,action){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!0,vertical:reduce_on_wheel_resolve(vertical,action)})};function reducer(state,action){switch(action.type){case ON_RESIZE:return reduce_on_resize(state,action);case ON_INIT:return reduce_on_init(state,action);case ON_VERTICAL_START_DRAG:return function reduceOnVerticalStartDrag(state,action){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:reduce_on_start_drag_resolve(vertical,action)})}(state,action);case ON_VERTICAL_STOP_DRAG:return function reduceOnVerticalStopDrag(state){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:reduce_on_stop_drag_resolve(vertical)})}(state);case ON_VERTICAL_DRAG:return function reduceOnVerticalDrag(state,action){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!0,vertical:reduce_on_drag_resolve(vertical,action)})}(state,action);case ON_HORIZONTAL_START_DRAG:return function reduceOnHorizontalStartDrag(state,action){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:reduce_on_start_drag_resolve(horizontal,action)})}(state,action);case ON_HORIZONTAL_STOP_DRAG:return function reduceOnHorizontalStopDrag(state){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:reduce_on_stop_drag_resolve(horizontal)})}(state);case ON_HORIZONTAL_DRAG:return function reduceOnHorizontalDrag(state,action){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!0,horizontal:reduce_on_drag_resolve(horizontal,action)})}(state,action);case ON_REFRESH_VIEWPORT:return reduce_on_refresh_viewport(state,action);case ON_VERTICAL_MOUSE_DOWN:return function reduceOnVerticalMouseDown(state,action){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!0,vertical:reduce_on_mouse_down_resolve(vertical,action)})}(state,action);case ON_HORIZONTAL_MOUSE_DOWN:return function reduceOnHorizontalMouseDown(state,action){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!0,horizontal:reduce_on_mouse_down_resolve(horizontal,action)})}(state,action);case ON_VERTICAL_SCROLL_PERCENT_REQUEST:return function reduceOnVerticalScrollPercentRequest(state,action){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!1,vertical:reduce_on_scroll_percent_request_resolve(vertical,action)})}(state,action);case ON_HORIZONTAL_SCROLL_PERCENT_REQUEST:return function reduceOnHorizontalScrollPercentRequest(state,action){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{refresh:!1,horizontal:reduce_on_scroll_percent_request_resolve(horizontal,action)})}(state,action);case ON_WHEEL:return reduce_on_wheel(state,action);default:return state}}var reducers=compose((function(state,action){return reducer(state,action)})),INITIAL_CONTEXT={state:void 0,dispatch:void 0},scrollbar_context=react_default.a.createContext(INITIAL_CONTEXT),classnames=__webpack_require__(32),classnames_default=__webpack_require__.n(classnames);__webpack_require__(1441);function safeCss(value){return value||0}function getStyle(vertical,tPos,tSize){return vertical?{marginTop:safeCss(tPos),height:safeCss(tSize)}:{marginLeft:safeCss(tPos),width:safeCss(tSize)}}var components_scrollbar_scrollbar=react_default.a.memo(react_default.a.forwardRef((function Scrollbar(_ref,containerEl){var className=_ref.className,_ref$vertical=_ref.vertical,vertical=void 0!==_ref$vertical&&_ref$vertical,pSize=_ref.pSize,tPos=_ref.tPos,tSize=_ref.tSize,max=_ref.max,drag=_ref.drag,idContent=_ref.idContent,scrollPercent=_ref.scrollPercent,_ref$onTrackMouseDown=_ref.onTrackMouseDown,onTrackMouseDown=void 0===_ref$onTrackMouseDown?function(){return null}:_ref$onTrackMouseDown,_ref$onBarMouseDown=_ref.onBarMouseDown,onBarMouseDown=void 0===_ref$onBarMouseDown?function(){return null}:_ref$onBarMouseDown,onMouseDownTrackCallback=Object(react.useCallback)((function(e){if(e.stopPropagation(),0===e.button){var clientPos=vertical?e.clientY:e.clientX;onTrackMouseDown(clientPos)}}),[onTrackMouseDown,vertical]),onMouseDownBarCallback=Object(react.useCallback)((function(e){if(e.stopPropagation(),0===e.button){var _e$target$getBounding=e.target.getBoundingClientRect(),left=_e$target$getBounding.left,top=_e$target$getBounding.top,clientPos=vertical?e.clientY-top:e.clientX-left;onBarMouseDown(clientPos)}}),[onBarMouseDown,vertical]),hidden=pSize>=max;return react_default.a.createElement("div",{ref:containerEl,role:"scrollbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(100*scrollPercent),"aria-controls":idContent,"aria-orientation":vertical?"vertical":"horizontal",className:classnames_default()("react-scrollbar",className,{hidden:hidden,"on-drag":drag}),onMouseDown:onMouseDownBarCallback},hidden?null:react_default.a.createElement("div",{className:classnames_default()("react-scrollbar-track",className,{"on-drag":drag}),style:getStyle(vertical,tPos,tSize),onMouseDown:onMouseDownTrackCallback}))}))),scrollbar_vertical=react_default.a.forwardRef((function ScrollbarVertical(props,ref){return react_default.a.createElement(components_scrollbar_scrollbar,Object.assign({ref:ref,className:"vertical"},props,{vertical:!0}))})),scrollbar_horizontal=react_default.a.forwardRef((function ScrollbarHorizontal(props,ref){return react_default.a.createElement(components_scrollbar_scrollbar,Object.assign({ref:ref,className:"horizontal"},props))}));__webpack_require__(1442);function ScrollableContainer(_ref){var children=_ref.children,maxWidth=_ref.maxWidth,maxHeight=_ref.maxHeight,verticalScrollPercentRequest=_ref.verticalScrollPercentRequest,horizontalScrollPercentRequest=_ref.horizontalScrollPercentRequest,idContent=_ref.idContent,onHorizontalScroll=_ref.onHorizontalScroll,onVerticalScroll=_ref.onVerticalScroll,onResize=_ref.onResize,middleware=_ref.middleware,scrollbarVEl=Object(react.useRef)(),scrollbarHEl=Object(react.useRef)(),_useReducer=Object(react.useReducer)(reducers,initial_state),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],__dispatch=_useReducer2[1],dispatch=Object(react.useMemo)((function(){return middleware(__dispatch)}),[__dispatch,middleware]),vertical=state.vertical,horizontal=state.horizontal,refresh=state.refresh,verticalDrag=vertical.drag,verticalPercent=vertical.scrollPercent,horizontalDrag=horizontal.drag,horizontalPercent=horizontal.scrollPercent,onKeyDownCallback=Object(react.useCallback)((function(e){e.stopPropagation(),dispatch(actions_namespaceObject.onKeyDown(e.key))}),[dispatch]),onResizeCallback=Object(react.useCallback)((function(viewportWidth,viewportHeight){var width=(scrollbarHEl.current?scrollbarHEl.current.getBoundingClientRect():{}).width,height=(scrollbarVEl.current?scrollbarVEl.current.getBoundingClientRect():{}).height,_onResize=onResize(viewportWidth,viewportHeight),_onResize2=Object(slicedToArray.a)(_onResize,2),vpw=_onResize2[0],vph=_onResize2[1];dispatch(actions_namespaceObject.onResize({width:width,height:height,viewportWidth:vpw,viewportHeight:vph})),dispatch(actions_namespaceObject.onRefreshViewport())}),[dispatch,scrollbarHEl,scrollbarVEl,onResize]),onMDHcbk=Object(react.useCallback)((function(clientPos){dispatch(actions_namespaceObject.onHorizontalStartDrag(clientPos))}),[dispatch]),onMDVcbk=Object(react.useCallback)((function(clientPos){dispatch(actions_namespaceObject.onVerticalStartDrag(clientPos))}),[dispatch]),onBarMouseDownVer=Object(react.useCallback)((function(clientPos){dispatch(actions_namespaceObject.onVerticalMouseDown(clientPos))}),[dispatch]),onBarMouseDownHor=Object(react.useCallback)((function(clientPos){dispatch(actions_namespaceObject.onHorizontalMouseDown(clientPos))}),[dispatch]),onmouseupCbk=Object(react.useCallback)((function(){verticalDrag&&dispatch(actions_namespaceObject.onVerticalStopDrag()),horizontalDrag&&dispatch(actions_namespaceObject.onHorizontalStopDrag())}),[verticalDrag,horizontalDrag,dispatch]),onmousemoveCbk=Object(react.useCallback)((function(e){verticalDrag&&(e.stopPropagation(),dispatch(actions_namespaceObject.onVerticalDrag(e.clientY))),horizontalDrag&&(e.stopPropagation(),dispatch(actions_namespaceObject.onHorizontalDrag(e.clientX)))}),[verticalDrag,horizontalDrag,dispatch]),onWheelCallback=Object(react.useCallback)((function(e){dispatch(actions_namespaceObject.onWheel(e.deltaY))}),[dispatch]);Object(react.useEffect)((function(){var percent=(verticalScrollPercentRequest||{}).percent;dispatch(actions_namespaceObject.onVerticalScrollPercentRequest(percent))}),[verticalScrollPercentRequest,dispatch]),Object(react.useEffect)((function(){var percent=(horizontalScrollPercentRequest||{}).percent;percent&&dispatch(actions_namespaceObject.onHorizontalScrollPercentRequest(percent))}),[horizontalScrollPercentRequest,dispatch]),Object(react.useEffect)((function(){refresh&&onHorizontalScroll(horizontalPercent)}),[horizontalPercent,onHorizontalScroll,refresh]),Object(react.useEffect)((function(){refresh&&onVerticalScroll(verticalPercent)}),[verticalPercent,onVerticalScroll,refresh]),Object(react.useEffect)((function(){dispatch(actions_namespaceObject.onInit(maxWidth,maxHeight)),dispatch(actions_namespaceObject.onRefreshViewport())}),[maxWidth,maxHeight,dispatch]),Object(react.useEffect)((function(){return window.addEventListener("mouseup",onmouseupCbk),window.addEventListener("mousemove",onmousemoveCbk),function(){window.removeEventListener("mouseup",onmouseupCbk),window.removeEventListener("mousemove",onmousemoveCbk)}}),[onmouseupCbk,onmousemoveCbk]);var containerEl=use_resize_observer(onResizeCallback);return react_default.a.createElement(scrollbar_context.Provider,{value:[state,dispatch]},react_default.a.createElement("div",{ref:containerEl,className:"react-scrollable-container",tabIndex:"-1",onWheel:onWheelCallback,onKeyDown:onKeyDownCallback},react_default.a.createElement(scrollbar_vertical,Object.assign({ref:scrollbarVEl},vertical,{onTrackMouseDown:onMDVcbk,onBarMouseDown:onBarMouseDownVer,idContent:idContent})),react_default.a.createElement(scrollbar_horizontal,Object.assign({ref:scrollbarHEl},horizontal,{onTrackMouseDown:onMDHcbk,onBarMouseDown:onBarMouseDownHor,idContent:idContent})),children))}ScrollableContainer.defaultProps={verticalScrollPercentRequest:void 0,horizontalScrollPercentRequest:void 0,onHorizontalScroll:function onHorizontalScroll(){return null},onVerticalScroll:function onVerticalScroll(){return null},onResize:function defaultOnResize(w,h){return[w,h]},idContent:"",middleware:function __middleware(next){return function(action){return next(action)}}},ScrollableContainer.__docgenInfo={description:"",methods:[],displayName:"ScrollableContainer",props:{verticalScrollPercentRequest:{defaultValue:{value:"undefined",computed:!0},type:{name:"shape",value:{percent:{name:"number",required:!0}}},required:!1,description:""},horizontalScrollPercentRequest:{defaultValue:{value:"undefined",computed:!0},type:{name:"shape",value:{percent:{name:"number",required:!0}}},required:!1,description:""},onHorizontalScroll:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:""},onVerticalScroll:{defaultValue:{value:"() => null",computed:!1},type:{name:"func"},required:!1,description:""},onResize:{defaultValue:{value:"function defaultOnResize(w, h) {\n  return [w, h];\n}",computed:!1},type:{name:"func"},required:!1,description:""},idContent:{defaultValue:{value:'""',computed:!1},type:{name:"string"},required:!1,description:""},middleware:{defaultValue:{value:"(next) => (action) => next(action)",computed:!1},type:{name:"func"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""}}};var components_scrollable_container=ScrollableContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-scrollable/components/scrollable-container.js"]={name:"ScrollableContainer",docgenInfo:ScrollableContainer.__docgenInfo,path:"src/react-scrollable/components/scrollable-container.js"})},340:function(module,exports,__webpack_require__){},524:function(module,exports,__webpack_require__){__webpack_require__(525),__webpack_require__(674),__webpack_require__(675),__webpack_require__(829),__webpack_require__(1383),__webpack_require__(1414),__webpack_require__(1419),__webpack_require__(1431),__webpack_require__(1433),__webpack_require__(1435),module.exports=__webpack_require__(1437)},57:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getRandomWord})),__webpack_require__.d(__webpack_exports__,"d",(function(){return randomInt})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getSentence}));var WORDS=["sed","ut","perspiciatis","unde","omnis","iste","natus","error","sit","voluptatem","accusantium","doloremque","laudantium","totam","rem","aperiam","eaque","ipsa","quae","ab","illo","inventore","veritatis","et","quasi","architecto","beatae","vitae","dicta","sunt","explicabo"];function getRandomWord(){return WORDS[randomInt(WORDS.length)]}function randomInt(length){return Math.trunc(Math.random()*length)}function getSentence(){var sentence=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",current=arguments.length>1?arguments[1]:void 0,next=randomInt(WORDS.length/2)+current||randomInt(WORDS.length/2);return next<WORDS.length-1?getSentence("".concat(sentence," ").concat(WORDS[next]),next):sentence}__webpack_exports__.a=function generate(how){return new Array(how).fill(null).map((function(_,i){var value=getSentence();return{id:"Element-".concat(i),value:value,__height:30+randomInt(30),__width:value.length}}))}},589:function(module,exports){},675:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(392)},77:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return large_scrollable_container}));var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,"ON_RESIZE",(function(){return ON_RESIZE})),__webpack_require__.d(actions_namespaceObject,"onResize",(function(){return actions_onResize})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_SCROLL",(function(){return ON_VERTICAL_SCROLL})),__webpack_require__.d(actions_namespaceObject,"onVerticalScroll",(function(){return onVerticalScroll})),__webpack_require__.d(actions_namespaceObject,"ON_REFRESH_VERTICAL_SCROLLABLE",(function(){return ON_REFRESH_VERTICAL_SCROLLABLE})),__webpack_require__.d(actions_namespaceObject,"onRefreshVerticalScrollable",(function(){return onRefreshVerticalScrollable})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_SCROLL",(function(){return ON_HORIZONTAL_SCROLL})),__webpack_require__.d(actions_namespaceObject,"onHorizontalScroll",(function(){return onHorizontalScroll})),__webpack_require__.d(actions_namespaceObject,"ON_REFRESH_HORIZONTAL_SCROLLABLE",(function(){return ON_REFRESH_HORIZONTAL_SCROLLABLE})),__webpack_require__.d(actions_namespaceObject,"onRefreshHorizontalScrollable",(function(){return onRefreshHorizontalScrollable})),__webpack_require__.d(actions_namespaceObject,"ON_KEY_DOWN",(function(){return ON_KEY_DOWN})),__webpack_require__.d(actions_namespaceObject,"onKeydown",(function(){return onKeydown})),__webpack_require__.d(actions_namespaceObject,"ON_VERTICAL_SCROLL_REQUEST",(function(){return ON_VERTICAL_SCROLL_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onVerticalScrollRequest",(function(){return onVerticalScrollRequest})),__webpack_require__.d(actions_namespaceObject,"ON_HORIZONTAL_SCROLL_REQUEST",(function(){return ON_HORIZONTAL_SCROLL_REQUEST})),__webpack_require__.d(actions_namespaceObject,"onHorizontalScrollRequest",(function(){return onHorizontalScrollRequest}));var slicedToArray=__webpack_require__(6),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_scrollable=__webpack_require__(166),ON_RESIZE="react-large-scrollable/on-resize",actions_onResize=function onResize(width,height){return{type:ON_RESIZE,payload:{width:width,height:height}}},ON_VERTICAL_SCROLL="react-large-scrollable/on-vertical-scroll",onVerticalScroll=function onVerticalScroll(percent){return{type:ON_VERTICAL_SCROLL,payload:{percent:percent}}},ON_REFRESH_VERTICAL_SCROLLABLE="react-large-scrollable/on-refresh-vertical-scrollable",onRefreshVerticalScrollable=function onRefreshVerticalScrollable(scrollable,treeSize){return{type:ON_REFRESH_VERTICAL_SCROLLABLE,payload:{scrollable:scrollable,treeSize:treeSize}}},ON_HORIZONTAL_SCROLL="react-large-scrollable/on-horizontal-scroll",onHorizontalScroll=function onHorizontalScroll(percent){return{type:ON_HORIZONTAL_SCROLL,payload:{percent:percent}}},ON_REFRESH_HORIZONTAL_SCROLLABLE="react-large-scrollable/on-refresh-horizontal-scrollable",onRefreshHorizontalScrollable=function onRefreshHorizontalScrollable(scrollable,treeSize){return{type:ON_REFRESH_HORIZONTAL_SCROLLABLE,payload:{scrollable:scrollable,treeSize:treeSize}}},ON_KEY_DOWN="react-large-scrollable/on-keydown",onKeydown=function onKeydown(key){return{type:ON_KEY_DOWN,payload:{key:key}}},ON_VERTICAL_SCROLL_REQUEST="react-large-scrollable/on-vertical-scroll-request",onVerticalScrollRequest=function onVerticalScrollRequest(_ref){var delta=_ref.delta;return{type:ON_VERTICAL_SCROLL_REQUEST,payload:{delta:delta}}},ON_HORIZONTAL_SCROLL_REQUEST="react-large-scrollable/on-horizontal-scroll-request",onHorizontalScrollRequest=function onHorizontalScrollRequest(_ref2){var delta=_ref2.delta;return{type:ON_HORIZONTAL_SCROLL_REQUEST,payload:{delta:delta}}},scrollable_context=react_default.a.createContext({state:void 0,dispatch:void 0}),objectSpread2=__webpack_require__(1);var compute_seuil=function compute(scrollbar){var scrollPercent=scrollbar.scrollPercent,maxSize=scrollbar.maxSize,size=scrollbar.size;return maxSize&&size?scrollPercent*(maxSize-size):0};function findInTreeSize(tree,seuil){for(var stack=[tree];stack.length;){var current=stack.pop(),min=current.min,max=current.max,index=current.index,left=current.left,right=current.right;if(seuil>=min&&seuil<max)return index;seuil<min&&left&&stack.push(left),seuil>max&&right&&stack.push(right)}return 0}function findCumulsSize(cumuls,seuil){return cumuls.reduce((function(i,c,j){return j<cumuls.length-2&&seuil>=c&&seuil<cumuls[j+1]?j:i}),0)}var compute_tree_size=function computeTree(cumuls){var step=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cumuls,index=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(cumuls){var length=step.length;if(1===step)return{min:cumuls[index],max:cumuls[index+1],index:index};var middle=Math.trunc(length/2),next=index+middle,smaller=step.slice(0,middle),bigger=next===cumuls.length-1?[]:step.slice(middle+1,length);return{index:next,min:cumuls[next],max:cumuls[next+1],left:smaller.length?computeTree(cumuls,smaller,index):void 0,right:bigger.length?computeTree(cumuls,bigger,next+1):void 0}}};var resolve_start=function resolve(scrollbar,seuil){var cumulsSize=scrollbar.cumulsSize,treeSize=scrollbar.treeSize;return cumulsSize?treeSize?Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{start:findInTreeSize(treeSize,seuil)}):Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{start:findCumulsSize(cumulsSize,seuil)}):scrollbar};var resolve_margin=function resolve_margin_compute(scrollbar,seuil){var start=scrollbar.start,cumulsSize=scrollbar.cumulsSize,size=scrollbar.size,maxSize=scrollbar.maxSize;if(cumulsSize&&size<maxSize){var margin=cumulsSize[start]-seuil;return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{margin:margin})}return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{margin:0})};var resolve_nb=function resolve_nb_compute(scrollbar,seuil){var cumulsSize=scrollbar.cumulsSize,start=scrollbar.start,size=scrollbar.size;if(cumulsSize){var nb=function count(cumTab,index,max){if(index<cumTab.length-1){for(var how=1;how+index<cumTab.length-1&&cumTab[how+index]<max;)how++;return how}return 0}(cumulsSize,start,seuil+size);return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{nb:nb})}return scrollbar};var resolve_scrollbar_from_scroll_percent=function resolve_scrollbar_from_scroll_percent_resolve(scrollbar){var maxSize=scrollbar.maxSize,size=scrollbar.size;if(maxSize&&size){var seuil=compute_seuil(scrollbar);return resolve_nb(resolve_margin(resolve_start(scrollbar,seuil),seuil),seuil)}return scrollbar};var resolve_scroll_percent=function resolve_scroll_percent_resolve(scrollbar){var maxSize=scrollbar.maxSize,start=scrollbar.start,cumulsSize=scrollbar.cumulsSize,margin=scrollbar.margin,size=scrollbar.size,max=scrollbar.max;if(cumulsSize&&cumulsSize.length&&maxSize>size){var percent=Math.min((cumulsSize[start]-margin)/(maxSize-size),1);return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:percent,scrollRequest:{percent:percent}})}return Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:0,start:0,nb:max,margin:0})};var resolve_scrollbar_from_start=function resolve_scrollbar_from_start_resolve(scrollbar){var next=resolve_scroll_percent(scrollbar);return resolve_scrollbar_from_scroll_percent(next)};var move_start=function moveStart(scrollbar,delta){var start=scrollbar.start,max=scrollbar.max,nb=scrollbar.nb;return Math.min(Math.max(start+delta,0),max-nb)};function resolveScrollable(scrollable,size){var prec=scrollable.size;return void 0===prec?resolve_scrollbar_from_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollable),{},{size:size})):size!==prec?resolve_scrollbar_from_start(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollable),{},{size:size})):scrollable}function resolveBoth(state,width,height){return function resolveWidth(state,width){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:resolveScrollable(horizontal,width)})}(function resolverHeight(state,height){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:resolveScrollable(vertical,height)})}(state,height),width)}var reduce_on_resize=function reduce(state,action){var payload=action.payload,height=payload.height;return resolveBoth(state,payload.width,height)};var reduce_on_vertical_scroll=function reduce_on_vertical_scroll_reduce(state,action){var percent=action.payload.percent,vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:resolve_scrollbar_from_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},vertical),{},{scrollPercent:percent}))})};var reduce_on_horizontal_scroll=function reduce_on_horizontal_scroll_reduce(state,action){var percent=action.payload.percent,horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:resolve_scrollbar_from_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},horizontal),{},{scrollPercent:percent}))})};var reduce_on_refresh_vertical_scrollable=function reduce_on_refresh_vertical_scrollable_reduce(state,action){var payload=action.payload,scrollable=payload.scrollable,treeSize=payload.treeSize,vertical=state.vertical,start=vertical.start,cumulsSize=scrollable.cumulsSize,next=Object(objectSpread2.a)(Object(objectSpread2.a)(Object(objectSpread2.a)({},vertical),scrollable),{},{treeSize:treeSize?compute_tree_size(cumulsSize):void 0});return void 0===start?Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:resolve_scrollbar_from_scroll_percent(next)}):Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:resolve_scrollbar_from_start(next)})};var reduce_on_refresh_horizontal_scrollable=function reduce_on_refresh_horizontal_scrollable_reduce(state,action){var payload=action.payload,scrollable=payload.scrollable,treeSize=payload.treeSize,horizontal=state.horizontal,start=horizontal.start,cumulsSize=scrollable.cumulsSize,next=Object(objectSpread2.a)(Object(objectSpread2.a)(Object(objectSpread2.a)({},horizontal),scrollable),{},{treeSize:treeSize?compute_tree_size(cumulsSize):void 0});return void 0===start?Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:resolve_scrollbar_from_scroll_percent(next)}):Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:resolve_scrollbar_from_start(next)})},BINDED_KEYS_arrowDown="ArrowDown",BINDED_KEYS_arrowUp="ArrowUp",BINDED_KEYS_arrowLeft="ArrowLeft",BINDED_KEYS_arrowRight="ArrowRight",BINDED_KEYS_pageUp="PageUp",BINDED_KEYS_pageDown="PageDown",BINDED_KEYS_home="Home",BINDED_KEYS_end="End";function moveScrollbar(scrollbar,delta){var start=scrollbar.start,max=scrollbar.max,nb=scrollbar.nb;return resolve_scrollbar_from_start(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{start:Math.max(Math.min(start+delta,max-nb),0)}))}function moveScrollbarPixels(scrollbar,delta){var maxSize=scrollbar.maxSize,size=scrollbar.size,scrollPercent=scrollbar.scrollPercent,percent=Math.min(Math.max(scrollPercent+delta/(maxSize-size),0),1);return resolve_scrollbar_from_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:percent,scrollRequest:{percent:percent}}))}function forceScrollbar(scrollbar,percent){return resolve_scrollbar_from_scroll_percent(Object(objectSpread2.a)(Object(objectSpread2.a)({},scrollbar),{},{scrollPercent:percent,scrollRequest:{percent:percent}}))}var reduce_on_keydown=function reduce_on_keydown_reduce(state,action){switch(action.payload.key){case BINDED_KEYS_arrowDown:return function reduceArrowDown(state){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:moveScrollbar(vertical,1)})}(state);case BINDED_KEYS_arrowUp:return function reduceArrowUp(state){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:moveScrollbar(vertical,-1)})}(state);case BINDED_KEYS_arrowLeft:return function reduceArrowLeft(state){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:moveScrollbar(horizontal,-1)})}(state);case BINDED_KEYS_arrowRight:return function reduceArrowRight(state){var horizontal=state.horizontal;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:moveScrollbar(horizontal,1)})}(state);case BINDED_KEYS_pageUp:return function reducePageUp(state){var vertical=state.vertical,size=vertical.size;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:moveScrollbarPixels(vertical,-size)})}(state);case BINDED_KEYS_pageDown:return function reducePageDown(state){var vertical=state.vertical,size=vertical.size;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:moveScrollbarPixels(vertical,size)})}(state);case BINDED_KEYS_home:return function reduceHome(state){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:forceScrollbar(vertical,0)})}(state);case BINDED_KEYS_end:return function reduceEnd(state){var vertical=state.vertical;return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:forceScrollbar(vertical,1)})}(state);default:return state}};var reduce_on_vertical_scroll_request=function reduce_on_vertical_scroll_request_reduce(state,action){var delta=action.payload.delta,vertical=state.vertical,start=move_start(vertical,delta);return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{vertical:resolve_scrollbar_from_start(Object(objectSpread2.a)(Object(objectSpread2.a)({},vertical),{},{start:start}))})};var reduce_on_horizontal_scroll_request=function reduce_on_horizontal_scroll_request_reduce(state,action){var delta=action.payload.delta,horizontal=state.horizontal,start=move_start(horizontal,delta);return Object(objectSpread2.a)(Object(objectSpread2.a)({},state),{},{horizontal:resolve_scrollbar_from_start(Object(objectSpread2.a)(Object(objectSpread2.a)({},horizontal),{},{start:start}))})};var reducer=function(state,action){return function reducer_reduce(state,action){switch(action.type){case ON_RESIZE:return reduce_on_resize(state,action);case ON_VERTICAL_SCROLL:return reduce_on_vertical_scroll(state,action);case ON_HORIZONTAL_SCROLL:return reduce_on_horizontal_scroll(state,action);case ON_REFRESH_VERTICAL_SCROLLABLE:return reduce_on_refresh_vertical_scrollable(state,action);case ON_REFRESH_HORIZONTAL_SCROLLABLE:return reduce_on_refresh_horizontal_scrollable(state,action);case ON_VERTICAL_SCROLL_REQUEST:return reduce_on_vertical_scroll_request(state,action);case ON_HORIZONTAL_SCROLL_REQUEST:return reduce_on_horizontal_scroll_request(state,action);case ON_KEY_DOWN:return reduce_on_keydown(state,action);default:return state}}(state,action)};var initial_state={horizontal:{maxSize:0,size:void 0,margin:void 0,cumulsSize:void 0,treeSize:void 0,start:void 0,nb:void 0,max:void 0,scrollPercent:0,scrollRequest:void 0},vertical:{maxSize:0,size:void 0,margin:void 0,cumulsSize:void 0,treeSize:void 0,start:void 0,nb:void 0,max:void 0,scrollPercent:0,scrollRequest:void 0}};function onResizeDefaultHook(width,height){return[width,height]}function LargeScrollableContainer(_ref){var children=_ref.children,id=_ref.id,verticalScrollable=_ref.vertical,horizontalScrollable=_ref.horizontal,treeSize=_ref.treeSize,_ref$onResize=_ref.onResize,onResize=void 0===_ref$onResize?onResizeDefaultHook:_ref$onResize,_useReducer=Object(react.useReducer)(reducer,initial_state),_useReducer2=Object(slicedToArray.a)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],horizontal=state.horizontal,vertical=state.vertical,maxHeight=vertical.maxSize,verticalScrollRequest=vertical.scrollRequest,verticalStart=vertical.start,marginTop=vertical.margin,verticalNb=vertical.nb,maxWidth=horizontal.maxSize,horizontalScrollRequest=horizontal.scrollRequest,horizontalStart=horizontal.start,marginLeft=horizontal.margin,horizontalNb=horizontal.nb,onResizeCallback=Object(react.useCallback)((function(width,height){var _onResize=onResize(width,height),_onResize2=Object(slicedToArray.a)(_onResize,2),w=_onResize2[0],h=_onResize2[1];return dispatch(actions_namespaceObject.onResize(w,h)),[w,h]}),[onResize]),onVerticalScrollCallback=Object(react.useCallback)((function(percent){dispatch(actions_namespaceObject.onVerticalScroll(percent))}),[dispatch]),onHorizontalScrollCallback=Object(react.useCallback)((function(percent){dispatch(actions_namespaceObject.onHorizontalScroll(percent))}),[dispatch]),vOuterScrollRequest=verticalScrollable.scrollRequest;Object(react.useEffect)((function(){vOuterScrollRequest&&vOuterScrollRequest&&dispatch(actions_namespaceObject.onVerticalScrollRequest(vOuterScrollRequest))}),[vOuterScrollRequest]),Object(react.useEffect)((function(){dispatch(actions_namespaceObject.onRefreshVerticalScrollable(verticalScrollable,treeSize))}),[verticalScrollable,treeSize]);var hOuterScrollRequest=horizontalScrollable.scrollRequest;Object(react.useEffect)((function(){hOuterScrollRequest&&dispatch(actions_namespaceObject.onHorizontalScrollRequest(hOuterScrollRequest))}),[hOuterScrollRequest]),Object(react.useEffect)((function(){dispatch(actions_namespaceObject.onRefreshHorizontalScrollable(horizontalScrollable,treeSize))}),[horizontalScrollable,treeSize]);var middleware_=Object(react.useCallback)((function(next){return function(action){var type=action.type,payload=action.payload;if("react-scrollable/on-key-down"===type){var key=payload.key;return dispatch(actions_namespaceObject.onKeydown(key)),null}return next(action)}}),[dispatch]);return react_default.a.createElement(scrollable_context.Provider,{value:[state,dispatch]},react_default.a.createElement(react_scrollable.a,{maxWidth:maxWidth,maxHeight:maxHeight,onHorizontalScroll:onHorizontalScrollCallback,onVerticalScroll:onVerticalScrollCallback,verticalScrollPercentRequest:verticalScrollRequest,horizontalScrollPercentRequest:horizontalScrollRequest,onResize:onResizeCallback,middleware:middleware_,idContent:id},react_default.a.cloneElement(react_default.a.Children.only(children),{verticalStart:verticalStart,marginTop:marginTop,verticalNb:verticalNb,horizontalStart:horizontalStart,marginLeft:marginLeft,horizontalNb:horizontalNb})))}LargeScrollableContainer.defaultProps={vertical:{},horizontal:{},treeSize:!1},LargeScrollableContainer.__docgenInfo={description:"",methods:[],displayName:"LargeScrollableContainer",props:{onResize:{defaultValue:{value:"function onResizeDefaultHook(width, height) {\n  return [width, height];\n}",computed:!1},required:!1},vertical:{defaultValue:{value:"{}",computed:!1},required:!1},horizontal:{defaultValue:{value:"{}",computed:!1},required:!1},treeSize:{defaultValue:{value:"false",computed:!1},required:!1}}};var large_scrollable_container=LargeScrollableContainer;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/react-large-scrollable/large-scrollable-container.js"]={name:"LargeScrollableContainer",docgenInfo:LargeScrollableContainer.__docgenInfo,path:"src/react-large-scrollable/large-scrollable-container.js"})}},[[524,1,2]]]);
//# sourceMappingURL=main.2df534f83b2289ea4c05.bundle.js.map